(self.webpackChunkseahub_frontend=self.webpackChunkseahub_frontend||[]).push([[8820],{60354:function(e,t,n){"use strict";var r=n(15671),o=n(43144),i=n(11621),a=n(35662),s=n(74521),d=n.n(s),u=n(61805),c=function(){function e(){(0,r.Z)(this,e)}return(0,o.Z)(e,[{key:"init",value:function(e){var t=e.server,n=e.username,r=e.password,o=e.token;return this.server=t,this.username=n,this.password=r,this.token=o,this.token&&this.server&&(this.req=a.Z.create({baseURL:this.server,headers:{Authorization:"Token "+this.token}})),this}},{key:"initForSeahubUsage",value:function(e){var t=e.siteRoot,n=e.xcsrfHeaders;if(t&&"/"===t.charAt(t.length-1)){var r=t.substring(0,t.length-1);this.server=r}else this.server=t;return this.req=a.Z.create({headers:{"X-CSRFToken":n}}),this}},{key:"_sendPostRequest",value:function(e,t){return t.getHeaders?this.req.post(e,t,{headers:t.getHeaders()}):this.req.post(e,t)}},{key:"listWikiDir",value:function(e,t,n){var r=encodeURIComponent(t),o=this.server+"/api/v2.1/wikis/"+e+"/dir/?p="+r;return n&&(o=this.server+"/api/v2.1/wikis/"+e+"/dir/?p="+r+"&with_parents="+n),this.req.get(o)}},{key:"getWikiFileContent",value:function(e,t){var n=encodeURIComponent(t),r=(new Date).getTime(),o=this.server+"/api/v2.1/wikis/"+e+"/content/?p="+n+"&_="+r;return this.req.get(o)}},{key:"listWikis",value:function(e){var t=this.server+"/api/v2.1/wikis/";return e?this.req.get(t,{params:e,paramsSerializer:{serialize:function(e){var t=[];for(var n in e)if(Array.isArray(e[n]))for(var r=0,o=e[n].length;r<o;r++)t.push(n+"="+encodeURIComponent(e[n][r]));else t.push(n+"="+encodeURIComponent(e[n]));return t.join("&")}}}):this.req.get(t)}},{key:"addWiki",value:function(e){var t=this.server+"/api/v2.1/wikis/",n=new(d());return n.append("name",e),this._sendPostRequest(t,n)}},{key:"deleteWiki",value:function(e){var t=this.server+"/api/v2.1/wikis/"+e+"/";return this.req.delete(t)}},{key:"listWiki2Dir",value:function(e,t,n){var r=encodeURIComponent(t),o=this.server+"/api/v2.1/wikis2/"+e+"/dir/?p="+r;return n&&(o=this.server+"/api/v2.1/wikis2/"+e+"/dir/?p="+r+"&with_parents="+n),this.req.get(o)}},{key:"getWiki2FileContent",value:function(e,t){var n=encodeURIComponent(t),r=(new Date).getTime(),o=this.server+"/api/v2.1/wikis2/"+e+"/content/?p="+n+"&_="+r;return this.req.get(o)}},{key:"listWikis2",value:function(e){var t=this.server+"/api/v2.1/wikis2/";return e?this.req.get(t,{params:e,paramsSerializer:{serialize:function(e){var t=[];for(var n in e)if(Array.isArray(e[n]))for(var r=0,o=e[n].length;r<o;r++)t.push(n+"="+encodeURIComponent(e[n][r]));else t.push(n+"="+encodeURIComponent(e[n]));return t.join("&")}}}):this.req.get(t)}},{key:"addWiki2",value:function(e){var t=this.server+"/api/v2.1/wikis2/",n=new(d());return n.append("name",e),this._sendPostRequest(t,n)}},{key:"deleteWiki2",value:function(e){var t=this.server+"/api/v2.1/wikis2/"+e+"/";return this.req.delete(t)}},{key:"updateWiki2Config",value:function(e,t){var n=this.server+"/api/v2.1/wiki2-config/"+e+"/",r={wiki_config:t};return this.req.put(n,r)}},{key:"getWiki2Config",value:function(e){var t=this.server+"/api/v2.1/wiki2-config/"+e+"/";return this.req.get(t)}}]),e}(),l=new c,f=i.ZP.load("sfcsrftoken");l.initForSeahubUsage({siteRoot:u.ze,xcsrfHeaders:f}),t.Z=l},29961:function(e,t,n){"use strict";var r=n(47313),o=n(1168),i=n(72970),a=n(15671),s=n(43144),d=n(60136),u=n(29388),c=n(70816),l=n.n(c),f=n(66367),p=n.n(f),h=n(42995),g=n(83854),v=n(60354),y=n(61805),m=n(55668),w=(0,s.Z)((function e(t){(0,a.Z)(this,e),this.id=t.id,this.name=t.name,this.path=t.path,this.icon=t.icon,this.docUuid=t.docUuid})),b=(0,s.Z)((function e(t){(0,a.Z)(this,e),this.type="folder",this.id=t.id,this.name=t.name,this.children=Array.isArray(t.children)?t.children:[]})),D=(0,s.Z)((function e(t){(0,a.Z)(this,e),this.version=t.version||1,this.navigation=(Array.isArray(t.navigation)?t.navigation:[]).map((function(e){return"folder"===e.type?new b(e):"page"===e.type?{id:e.id,type:e.type}:null})).filter((function(e){return!!e})),this.pages=Array.isArray(t.pages)?t.pages.map((function(e){return new w(e)})):[]})),k=n(70609),S=n(47809),x=n(68396),C=n(1413),I=n(74165),O=n(15861),_=n(32773),E=n.n(_),P=n(51282),T=n(97326),N=n(46123),j=n.n(N),M=n(57124),F=n(47584),Z=n(96552),R=(0,F.Z5)(Z.ZP),A="view-folder",L="view",V=n(13380),B=n(25417),U=n(72611),W=n(15108),H=n(46417),G=function(e){(0,d.Z)(n,e);var t=(0,u.Z)(n);function n(e){var r;return(0,a.Z)(this,n),(r=t.call(this,e)).onDropdownToggle=function(e){e.stopPropagation();var t=!r.state.isMenuShow;r.props.changeItemFreeze(t),r.setState({isMenuShow:t})},r.openFolderEditor=function(e){e.nativeEvent.stopImmediatePropagation(),r.props.openFolderEditor()},r.onDeleteFolder=function(e){e.nativeEvent.stopImmediatePropagation(),r.props.onDeleteFolder(r.props.folderId)},r.closeTip=function(){r.setState({showTip:!1})},r.state={isMenuShow:!1,showTip:!1},r.position={},r}return(0,s.Z)(n,[{key:"render",value:function(){return(0,H.jsx)(H.Fragment,{children:(0,H.jsxs)(V.Z,{isOpen:this.state.isMenuShow,toggle:this.onDropdownToggle,className:"more-view-folder-operation",children:[(0,H.jsx)(B.Z,{tag:"span","data-toggle":"dropdown","aria-expanded":this.state.isMenuShow,children:(0,H.jsx)(W.Z,{symbol:"more-level"})}),(0,H.jsxs)(U.Z,{className:"dtable-dropdown-menu large",flip:!1,modifiers:{preventOverflow:{boundariesElement:document.body}},positionFixed:!0,style:{zIndex:1051},children:[(0,H.jsxs)(M.Z,{onClick:this.props.onToggleAddView.bind(this,this.props.folderId),children:[(0,H.jsx)(W.Z,{symbol:"file"}),(0,H.jsx)("span",{className:"item-text",children:(0,y.ih)("Add page")})]}),(0,H.jsxs)(M.Z,{onClick:this.openFolderEditor,children:[(0,H.jsx)(W.Z,{symbol:"edit"}),(0,H.jsx)("span",{className:"item-text",children:(0,y.ih)("Modify name")})]}),(0,H.jsxs)(M.Z,{onMouseDown:this.onDeleteFolder,children:[(0,H.jsx)(W.Z,{symbol:"delete"}),(0,H.jsx)("span",{className:"item-text",children:(0,y.ih)("Delete folder")})]})]})]})})}}]),n}(r.Component),z=n(27205),q=n(30560),J=function(e){(0,d.Z)(n,e);var t=(0,u.Z)(n);function n(e){var o;return(0,a.Z)(this,n),(o=t.call(this,e)).onChangeName=function(e){var t=e.target.value;o.props.onChangeName(t)},o.onEnter=function(e){e.preventDefault(),o.props.toggleViewEditor()},o.handleKeyDown=function(e){13===e.keyCode&&(e.preventDefault(),o.props.toggleViewEditor())},o.renderViewName=function(){var e=o.props.viewName;return(0,H.jsx)("div",{className:"view-name-editor",children:(0,H.jsx)("input",{type:"text",className:"form-control view-name-editor-input",value:e,onChange:o.onChangeName,autoFocus:!0,ref:o.viewInputRef,onKeyDown:o.handleKeyDown})})},o.viewInputRef=r.createRef(),o}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){var e=this.props.viewName.length;this.viewInputRef.current.setSelectionRange(0,e)}},{key:"render",value:function(){return(0,H.jsxs)(q.Z,{placement:"bottom-end",target:this.props.viewEditorId,hideSeahubPopover:this.props.toggleViewEditor,hideSeahubPopoverWithEsc:this.props.toggleViewEditor,onEnter:this.onEnter,hideArrow:!0,popoverClassName:"view-edit-popover",boundariesElement:document.body,children:[(0,H.jsx)("div",{className:"view-edit-popover-header",children:(0,H.jsx)("span",{className:"header-text",children:(0,y.ih)("Modify Name")})}),(0,H.jsx)(z.Z,{className:"view-edit-content",children:this.renderViewName()})]})}}]),n}(r.Component),K=function(e){(0,d.Z)(n,e);var t=(0,u.Z)(n);function n(e){var r;return(0,a.Z)(this,n),(r=t.call(this,e)).calculateNameMap=function(){return r.props.views.reduce((function(e,t){return e[t.name]=!0,e}),{})},r.onDropdownToggle=function(e){e.target&&r.foldersDropdownToggle&&r.foldersDropdownToggle.contains(e.target)||(e.stopPropagation(),r.props.toggle())},r.onRenameView=function(e){e.nativeEvent.stopImmediatePropagation(),r.props.toggleViewEditor()},r.onDeleteView=function(e){e.nativeEvent.stopImmediatePropagation(),r.props.onDeleteView()},r.onModifyViewType=function(e){e.nativeEvent.stopImmediatePropagation(),r.props.onModifyViewType()},r.onMoveViewToFolder=function(e){r.props.onMoveViewToFolder(e)},r.onRemoveFromFolder=function(e){e.nativeEvent.stopImmediatePropagation(),r.props.onMoveViewToFolder(null)},r.onToggleFoldersMenu=function(){r.setState({isShowMenu:!r.state.isShowMenu})},r.duplicatePage=function(){for(var e=r.props,t=e.view,n=e.folderId,o=t.id,i=t.name,a=1,s=i+"(copy)";r.pageNameMap[s];)s="".concat(i,"(copy").concat(a,")"),a++;r.props.onSetFolderId(n),r.props.duplicatePage({name:s,from_page_id:o},(function(){}),r.duplicatePageFailure)},r.duplicatePageFailure=function(){x.Z.danger((0,y.ih)("Failed_to_duplicate_page"))},r.showMenu=function(){r.setState({isShowMenu:!0})},r.hideMenu=function(){r.setState({isShowMenu:!1})},r.state={isShowMenu:!1},r.pageNameMap=r.calculateNameMap(),r}return(0,s.Z)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.folderId,r=t.canDelete,o=t.canDuplicate,i=t.renderFolderMenuItems,a=t.tableGridsLength,s=t.isOnlyOneView,d=i&&i({currentFolderId:n,onMoveViewToFolder:this.onMoveViewToFolder});return(0,H.jsxs)(V.Z,{isOpen:!0,toggle:this.onDropdownToggle,className:"view-operation-dropdown",children:[(0,H.jsx)(B.Z,{className:"view-operation-dropdown-toggle",tag:"span","data-toggle":"dropdown"}),(0,H.jsxs)(U.Z,{className:"view-operation-dropdown-menu dtable-dropdown-menu large",flip:!1,modifiers:{preventOverflow:{boundariesElement:document.body}},positionFixed:!0,style:{zIndex:1051},children:[(0,H.jsxs)(M.Z,{onClick:this.onRenameView,children:[(0,H.jsx)(W.Z,{symbol:"edit"}),(0,H.jsx)("span",{className:"item-text",children:(0,y.ih)("Modify name")})]}),o&&(0,H.jsxs)(M.Z,{onClick:this.duplicatePage,children:[(0,H.jsx)(W.Z,{symbol:"copy"}),(0,H.jsx)("span",{className:"item-text",children:(0,y.ih)("Duplicate page")})]}),s||1===a||!r?"":(0,H.jsxs)(M.Z,{onClick:this.onDeleteView,children:[(0,H.jsx)(W.Z,{symbol:"delete"}),(0,H.jsx)("span",{className:"item-text",children:(0,y.ih)("Delete page")})]}),n&&(0,H.jsxs)(M.Z,{onClick:this.onRemoveFromFolder,children:[(0,H.jsx)(W.Z,{symbol:"remove-from-folder"}),(0,H.jsx)("span",{className:"item-text",children:(0,y.ih)("Remove from folder")})]}),i&&d.length>0&&(0,H.jsx)(M.Z,{className:"pr-2 btn-move-to-folder",tag:"div",onClick:function(t){t.stopPropagation(),t.nativeEvent.stopImmediatePropagation(),e.showMenu()},onMouseEnter:this.showMenu,onMouseLeave:this.hideMenu,children:(0,H.jsxs)(V.Z,{className:"folders-dropdown",direction:"right",isOpen:this.state.isShowMenu,toggle:this.onToggleFoldersMenu,children:[(0,H.jsxs)("div",{className:"folders-dropdown-toggle",ref:function(t){return e.foldersDropdownToggle=t},children:[(0,H.jsx)(W.Z,{symbol:"move-to"}),(0,H.jsx)("span",{className:"item-text",children:(0,y.ih)("Move to")}),(0,H.jsx)("span",{className:"icon-dropdown-toggle",children:(0,H.jsx)(W.Z,{className:"mr-0",symbol:"right-slide"})}),(0,H.jsx)(B.Z,{className:"move-to-folders-toggle"})]}),this.state.isShowMenu&&(0,H.jsx)(U.Z,{className:"folders-dropdown-menu",flip:!1,modifiers:{preventOverflow:{boundariesElement:document.body}},positionFixed:!0,children:d})]})})]})]})}}]),n}(r.Component),X=n(12756),Y=n(12213),Q=n(7764),$=n(21303),ee=function(e){(0,d.Z)(n,e);var t=(0,u.Z)(n);function n(){var e;(0,a.Z)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).toggle=function(){e.props.closeDeleteDialog()},e}return(0,s.Z)(n,[{key:"render",value:function(){return(0,H.jsxs)(h.Z,{isOpen:!0,toggle:this.toggle,children:[(0,H.jsx)(X.Z,{toggle:this.toggle,children:(0,y.ih)("Delete page")}),(0,H.jsx)(Y.Z,{children:(0,H.jsx)("p",{children:(0,y.ih)("Are you sure to delete this page?")})}),(0,H.jsxs)(Q.Z,{children:[(0,H.jsx)($.Z,{color:"secondary",onClick:this.toggle,children:(0,y.ih)("Cancel")}),(0,H.jsx)($.Z,{color:"primary",onClick:this.props.handleSubmit,children:(0,y.ih)("Delete")})]})]})}}]),n}(r.Component);var te=function(e){var t=e.symbol,n=e.className,r=e.disable;return(0,H.jsx)("div",{className:j()("nav-item-icon",{"nav-item-icon-disable":r}),children:(0,H.jsx)(W.Z,{symbol:t,className:n})})},ne={beginDrag:function(e){return{idx:e.viewIndex,data:(0,C.Z)((0,C.Z)({},e.view),{},{index:e.viewIndex}),folderId:e.folderId,mode:L}},endDrag:function(e,t){var n=t.getItem();if(!t.didDrop())return{viewSource:n,viewTarget:{}}},isDragging:function(e){var t=e.draggedRow,n=e.infolder,r=e.viewIndex;return!n&&t.idx>r}},re={drop:function(e,t){var n=t.getItem();if(n.mode!==L)if(n.mode!==A);else{var r=e.viewIndex,o=e.view,i=n.data.id,a=o.id,s=n.idx;if(e.foldersStr.split("-").includes(i))return;e.onMoveFolder(i,a,s>r?"move_above":"move_below")}else{var d=e.infolder,u=e.viewIndex,c=e.view,l=e.folderId,f=n.folderId,p=n.data.id,h=c.id;if(p!==h){var g,v=n.idx;g=d?"move_below":v>u?"move_above":"move_below",e.onMoveView({moved_view_id:p,target_view_id:h,source_view_folder_id:f,target_view_folder_id:l,move_position:g})}}}},oe=function(e){(0,d.Z)(n,e);var t=(0,u.Z)(n);function n(e){var o;return(0,a.Z)(this,n),(o=t.call(this,e)).onMouseEnter=function(){o.state.isSelected},o.onMouseLeave=function(){o.state.isSelected},o.onCurrentPageChanged=function(e){var t=o.state.isSelected;e===o.props.view.id&&!1===t?o.setState({isSelected:!0}):e!==o.props.view.id&&!0===t&&o.setState({isSelected:!1})},o.toggleViewEditor=function(e){e&&e.stopPropagation(),o.setState({isShowViewEditor:!o.state.isShowViewEditor},(function(){o.state.isShowViewEditor||o.saveViewProperties()}))},o.saveViewProperties=function(){var e=o.props.view,t=e.name,n=e.icon,r=e.id,i=o.state.viewIcon,a=o.state.viewName.trim();if(i!==n||a!==t){var s={};a!==t&&(s.name=a),i!==n&&(s.icon=i),o.props.onUpdatePage(r,s)}},o.onChangeName=function(e){o.setState({viewName:e})},o.onChangeIcon=function(e){o.setState({viewIcon:e})},o.openDeleteDialog=function(){o.setState({isShowDeleteDialog:!0})},o.closeDeleteDialog=function(){o.setState({isShowDeleteDialog:!1})},o.onViewOperationDropdownToggle=function(){var e=!o.state.isShowViewOperationDropdown;o.setState({isShowViewOperationDropdown:e}),o.changeItemFreeze(e)},o.changeItemFreeze=function(e){e?o.viewItemRef.classList.add("view-freezed"):o.viewItemRef.classList.remove("view-freezed")},o.renderIcon=function(e){return e?e.includes("dtable-icon")?(0,H.jsx)("span",{className:"mr-2 dtable-font ".concat(e)}):(0,H.jsx)(W.Z,{className:"mr-2",symbol:e}):null},o.setDocUuid=function(e){window.seafile.docUuid=e},o.state={isShowViewEditor:!1,isShowViewOperationDropdown:!1,isShowDeleteDialog:!1,viewName:e.view.name||"",viewIcon:e.view.icon,isSelected:e.currentPageId===e.view.id},o.viewItemRef=r.createRef(),o}return(0,s.Z)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.connectDragSource,r=t.connectDragPreview,o=t.connectDropTarget,i=t.isOver,a=t.canDrop,s=t.isDragging,d=t.infolder,u=t.view,c=t.tableGridsLength,l=t.isEditMode,f=t.folderId,p=t.isOnlyOneView,h=t.foldersStr,g=this.state,v=g.isShowViewEditor,y=g.viewName,m=g.viewIcon,w=g.isSelected,b=i&&a;w&&this.setDocUuid(u.docUuid);var D,k;d?(D=!1,k=b):(D=b&&s,k=b&&!s);var S="view-editor-".concat(u.id);return(l?n:function(e){})(o(r((0,H.jsxs)("div",{className:j()("view-item","view",{"selected-view":w},{"view-can-drop-top":D},{"view-can-drop":k},{readonly:!l}),ref:function(t){return e.viewItemRef=t},onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,id:S,children:[(0,H.jsx)("div",{className:"view-item-main",onClick:v?function(){}:this.props.onSelectView,children:(0,H.jsxs)("div",{className:"view-content",style:h?{marginLeft:"".concat(24*h.split("-").length,"px")}:{},children:[(0,H.jsx)(te,{symbol:"file",disable:!0}),(0,H.jsx)("span",{className:"view-title text-truncate",title:u.name,children:u.name}),v&&(0,H.jsx)(J,{viewName:y,viewIcon:m,viewEditorId:S,onChangeName:this.onChangeName,onChangeIcon:this.onChangeIcon,toggleViewEditor:this.toggleViewEditor})]})}),(0,H.jsx)("div",{className:"d-flex",children:l&&(0,H.jsxs)("div",{className:"more-view-operation",onClick:this.onViewOperationDropdownToggle,children:[(0,H.jsx)(W.Z,{symbol:"more-level"}),this.state.isShowViewOperationDropdown&&(0,H.jsx)(K,{view:u,views:this.props.views,tableGridsLength:c,isOnlyOneView:p,folderId:f,canDelete:!0,canDuplicate:!0,toggle:this.onViewOperationDropdownToggle,renderFolderMenuItems:this.props.renderFolderMenuItems,toggleViewEditor:this.toggleViewEditor,duplicatePage:this.props.duplicatePage,onSetFolderId:this.props.onSetFolderId,onDeleteView:this.openDeleteDialog,onMoveViewToFolder:this.props.onMoveViewToFolder})]})}),this.state.isShowDeleteDialog&&(0,H.jsx)(ee,{closeDeleteDialog:this.closeDeleteDialog,handleSubmit:this.props.onDeleteView})]}))))}}]),n}(r.Component),ie=(0,F.GR)("ViewStructure",re,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver(),canDrop:t.canDrop(),draggedRow:t.getItem()}}))((0,F.Ej)("ViewStructure",ne,(function(e,t){return{connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging()}}))(oe)),ae="folder",se="page",de=function(e){(0,d.Z)(n,e);var t=(0,u.Z)(n);function n(e){var r;(0,a.Z)(this,n),(r=t.call(this,e)).onToggleExpandFolder=function(e){e.nativeEvent.stopImmediatePropagation(),r.props.onToggleExpandFolder(r.props.folder.id),r.forceUpdate()},r.onToggleExpandSubfolder=function(e){r.props.onToggleExpandFolder(e),r.forceUpdate()},r.onClickFolderChildren=function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},r.openFolderEditor=function(){r.setState({isEditing:!0})},r.closeFolderEditor=function(){if(r.state.isEditing){var e=r.state,t=e.name,n=e.icon;r.props.onModifyFolder(r.props.folder.id,{name:t,icon:n}),r.setState({isEditing:!1})}},r.onChangeName=function(e){r.setState({name:e})},r.onChangeIcon=function(e){r.setState({icon:e})},r.changeItemFreeze=function(e){r.isFreeze=!0},r.renderFolder=function(e,t,n,o,i){var a=r.props,s=a.isEditMode,d=a.views,u=a.foldersStr,c=e.id;return(0,H.jsx)(le,{isEditMode:s,folder:e,folderIndex:t,tableGridsLength:n,isOnlyOneView:o,id_view_map:i,renderFolderMenuItems:r.props.renderFolderMenuItems,onToggleExpandFolder:r.onToggleExpandSubfolder,onToggleAddView:r.props.onToggleAddView,onModifyFolder:r.props.onModifyFolder,onDeleteFolder:r.props.onDeleteFolder,onMoveFolder:r.props.onMoveFolder,onSelectView:r.props.onSelectView,onUpdatePage:r.props.onUpdatePage,duplicatePage:r.props.duplicatePage,onSetFolderId:r.props.onSetFolderId,onDeleteView:r.props.onDeleteView,onMoveViewToFolder:r.props.onMoveViewToFolder,onMoveView:r.props.onMoveView,moveFolderToFolder:r.props.moveFolderToFolder,views:d,foldersStr:u+"-"+c,setClassName:r.props.setClassName,getClassName:r.props.getClassName,movePageOut:r.props.movePageOut,layerDragProps:r.props.layerDragProps,getFolderState:r.props.getFolderState,currentPageId:r.props.currentPageId},"view-folder-".concat(c))},r.renderView=function(e,t,n,o){var i=r.props,a=i.isEditMode,s=i.views,d=i.folder,u=i.foldersStr,c=e.id;if(s.find((function(e){return e.id===c})))return(0,H.jsx)(ie,{tableGridsLength:n,isOnlyOneView:o,infolder:!1,view:s.find((function(e){return e.id===c})),viewIndex:t,folderId:d.id,isEditMode:a,renderFolderMenuItems:r.props.renderFolderMenuItems,duplicatePage:r.props.duplicatePage,onSetFolderId:r.props.onSetFolderId,onSelectView:function(){return r.props.onSelectView(c)},onUpdatePage:r.props.onUpdatePage,onDeleteView:r.props.onDeleteView.bind((0,T.Z)(r),c),onMoveViewToFolder:function(t){r.props.onMoveViewToFolder(d.id,e.id,t)},onMoveView:r.props.onMoveView,onMoveFolder:r.props.onMoveFolder,views:s,foldersStr:u,currentPageId:r.props.currentPageId},c)},r.getFolderClassName=function(e,t){if(!t||!e||!e.clientOffset)return"view-folder-wrapper";var n=e.clientOffset.y,o=r.foldWrapprRef.getBoundingClientRect().y,i="";return o+10<n&&n<o+30&&(i+=" dragged-view-over "),o+10>n&&(i+=" can-drop-top "),o+30<n&&(i+=" can-drop "),r.props.setClassName(i),i+"view-folder-wrapper"},r.getFolderChildrenHeight=function(){var e=r.props.folder,t=e.id,n=e.children;if(r.props.getFolderState(t))return 0;var o=0;return n.forEach((function(e){var t=e.type,n=e.id,i=e.children;o+=t===ae?r.props.getFolderState(n)||!Array.isArray(i)?40:40*(i.length+1):40})),o},r.onMouseEnter=function(){r.setState({isMouseEnter:!0})},r.onMouseLeave=function(){r.setState({isMouseEnter:!1})};var o=e.folder,i=o.name,s=o.icon;return r.state={isEditing:!1,icon:s||"",name:i||"",isMouseEnter:!1},r}return(0,s.Z)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.connectDropTarget,r=t.connectDragPreview,o=t.connectDragSource,i=t.isOver,a=t.canDrop,s=t.isEditMode,d=t.folder,u=t.tableGridsLength,c=t.id_view_map,l=t.isOnlyOneView,f=t.layerDragProps,p=this.state.isEditing,h=d.id,g=d.name,v=d.children,y=this.props.getFolderState(h),m="folder-item-".concat(h),w=s?o:function(e){};return(0,H.jsxs)("div",{className:j()("view-folder",{readonly:!s}),ref:function(t){return e.foldRef=t},onClick:this.onToggleExpandFolder,children:[w(n(r((0,H.jsxs)("div",{className:this.getFolderClassName(f,i&&a),ref:function(t){return e.foldWrapprRef=t},onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,children:[(0,H.jsx)("div",{className:"folder-main",children:(0,H.jsxs)("div",{className:"folder-content",style:{marginLeft:"".concat(16*(this.props.foldersStr.split("-").length-1),"px")},id:m,children:[this.state.isMouseEnter?(0,H.jsx)(te,{className:"icon-expand-folder",symbol:y?"right-slide":"drop-down"}):(0,H.jsx)(te,{symbol:"wiki-folder",disable:!0}),(0,H.jsx)("span",{className:"folder-name text-truncate",title:g,children:g}),p&&(0,H.jsx)(J,{viewName:this.state.name,viewEditorId:m,viewIcon:this.state.icon,onChangeName:this.onChangeName,onChangeIcon:this.onChangeIcon,toggleViewEditor:this.closeFolderEditor})]})}),s&&(0,H.jsx)(G,{changeItemFreeze:this.changeItemFreeze,openFolderEditor:this.openFolderEditor,onDeleteFolder:this.props.onDeleteFolder,onToggleAddView:this.props.onToggleAddView,folderId:h})]})))),(0,H.jsx)("div",{className:"view-folder-children",style:{height:this.getFolderChildrenHeight()},onClick:this.onClickFolderChildren,children:!y&&v&&v.map((function(t,n){return"folder"===t.type?e.renderFolder(t,n,u,l,c):e.renderView(t,n,u,l)}))})]})}}]),n}(r.Component),ue={beginDrag:function(e,t){return{idx:e.folderIndex,data:e.folder,mode:A}},endDrag:function(e,t){var n=t.getItem();if(!t.didDrop())return{sourceRow:n,targetRow:{}}},isDragging:function(e,t){var n=e.folderIndex;return e.draggedRow.idx>n}},ce={drop:function(e,t){var n=t.getItem(),r=e.folder.id,o=e.getClassName();if(o){var i;o.includes("can-drop")&&(i="move_below"),o.includes("can-drop-top")&&(i="move_above");var a=o.includes("dragged-view-over");if(n.mode===L){var s=n.folderId,d=n.data.id;return a?void e.onMoveView({moved_view_id:d,target_view_id:null,source_view_folder_id:s,target_view_folder_id:r,move_position:i}):void e.movePageOut(d,s,r,i)}if(n.mode!==A);else{var u=n.data.id;if(r===u)return;if(a)return;e.onMoveFolder(u,r,i)}}}},le=(0,F.GR)("ViewStructure",ce,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver(),canDrop:t.canDrop(),draggedRow:t.getItem(),connect:e,monitor:t}}))((0,F.Ej)("ViewStructure",ue,(function(e,t){return{connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging()}}))(de)),fe=n(16708),pe=function(e){(0,d.Z)(n,e);var t=(0,u.Z)(n);function n(){var e;(0,a.Z)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).toggle=function(t){e.onStopPropagation(t),e.props.toggleDropdown()},e.addPage=function(t){e.onStopPropagation(t),e.props.onToggleAddView(null)},e.onToggleAddFolder=function(t){e.onStopPropagation(t),e.props.onToggleAddFolder()},e.onStopPropagation=function(e){e&&e.nativeEvent&&e.nativeEvent.stopImmediatePropagation()},e}return(0,s.Z)(n,[{key:"render",value:function(){return(0,H.jsxs)(V.Z,{isOpen:!0,toggle:this.toggle,children:[(0,H.jsx)(B.Z,{caret:!0}),(0,H.jsxs)(U.Z,{container:"body",className:"dtable-dropdown-menu large mt-0",children:[(0,H.jsxs)(M.Z,{onClick:this.addPage,children:[(0,H.jsx)(W.Z,{symbol:"file"}),(0,H.jsx)("span",{className:"item-text",children:(0,y.ih)("Add page")})]}),(0,H.jsxs)(M.Z,{onClick:this.onToggleAddFolder,children:[(0,H.jsx)(W.Z,{symbol:"folders"}),(0,H.jsx)("span",{className:"item-text",children:(0,y.ih)("Add folder")})]})]})]})}}]),n}(r.Component),he=pe,ge=function(e){(0,d.Z)(n,e);var t=(0,u.Z)(n);function n(e){var r;return(0,a.Z)(this,n),(r=t.call(this,e)).toggleDropdown=function(e){e&&e.stopPropagation(),r.setState({isShowDropdownMenu:!r.state.isShowDropdownMenu})},r.state={isShowDropdownMenu:!1},r}return(0,s.Z)(n,[{key:"render",value:function(){return(0,H.jsx)("div",{className:"view-structure-footer",children:(0,H.jsxs)("div",{className:"add-view-wrapper",children:[(0,H.jsx)(fe.Z,{className:"add-view-btn",callBack:this.toggleDropdown,footerName:(0,y.ih)("Add page or folder")}),this.state.isShowDropdownMenu&&(0,H.jsx)(he,{toggleDropdown:this.toggleDropdown,onToggleAddView:this.props.onToggleAddView,onToggleAddFolder:this.props.onToggleAddFolder})]})})}}]),n}(r.Component),ve=function(e){(0,d.Z)(n,e);var t=(0,u.Z)(n);function n(e){var o;return(0,a.Z)(this,n),(o=t.call(this,e)).getFoldedFoldersFromBase=function(){var e=window.localStorage.getItem("wiki-folded-folders-".concat(y.Jv));return e?JSON.parse(e):{}},o.setFoldedFolders=function(e){window.localStorage.setItem("wiki-folded-folders-".concat(y.Jv),JSON.stringify(e))},o.getFolderState=function(e){return o.idFoldedStatusMap[e]},o.onToggleExpandFolder=function(e){var t=o.getFoldedFoldersFromBase();t[e]?delete t[e]:t[e]=!0,o.setFoldedFolders(t),o.idFoldedStatusMap=t},o.onMoveViewToFolder=function(e,t,n){o.props.onMoveView({moved_view_id:t,source_view_folder_id:e,target_view_folder_id:n,target_view_id:null,move_position:"move_below"})},o.renderFolderMenuItems=function(e){var t=e.currentFolderId,n=e.onMoveViewToFolder;return o.props.navigation.filter((function(e){return"folder"===e.type&&e.id!==t})).map((function(e){var t=e.id,r=e.name;return(0,H.jsx)(M.Z,{onClick:n.bind((0,T.Z)(o),t),children:(0,H.jsx)("span",{className:"folder-name text-truncate",title:r,children:r})},"move-to-folder-".concat(t))}))},o.setClassName=function(e){o.folderClassNameCache=e},o.getClassName=function(){return o.folderClassNameCache},o.renderFolder=function(e,t,n,r,i,a){var s=o.props,d=s.isEditMode,u=s.views,c=e.id;return(0,H.jsx)(le,{isEditMode:d,folder:e,folderIndex:t,tableGridsLength:n,isOnlyOneView:r,id_view_map:i,renderFolderMenuItems:o.renderFolderMenuItems,onToggleExpandFolder:o.onToggleExpandFolder,onToggleAddView:o.props.onToggleAddView,onDeleteFolder:o.props.onDeleteFolder,onMoveFolder:o.props.onMoveFolder,onSelectView:o.props.onSelectView,onUpdatePage:o.props.onUpdatePage,duplicatePage:o.props.duplicatePage,onSetFolderId:o.props.onSetFolderId,onDeleteView:o.props.onDeleteView,onMoveViewToFolder:o.onMoveViewToFolder,onMoveView:o.props.onMoveView,views:u,moveFolderToFolder:o.props.moveFolderToFolder,foldersStr:c,layerDragProps:a,setClassName:o.setClassName,getClassName:o.getClassName,movePageOut:o.props.movePageOut,onModifyFolder:o.props.onModifyFolder,getFolderState:o.getFolderState,currentPageId:o.props.currentPageId},"view-folder-".concat(c))},o.renderView=function(e,t,n,r,i){var a=o.props,s=a.isEditMode,d=a.views,u=e.id;if(d.find((function(e){return e.id===u}))){return(0,H.jsx)(ie,{tableGridsLength:n,isOnlyOneView:r,infolder:!1,view:d.find((function(e){return e.id===u})),views:d,viewIndex:t,folderId:null,isEditMode:s,renderFolderMenuItems:o.renderFolderMenuItems,duplicatePage:o.props.duplicatePage,onSetFolderId:o.props.onSetFolderId,onSelectView:function(){return o.props.onSelectView(u)},onUpdatePage:o.props.onUpdatePage,onDeleteView:o.props.onDeleteView.bind((0,T.Z)(o),u),onMoveViewToFolder:function(t){o.onMoveViewToFolder(null,e.id,t)},onMoveView:o.props.onMoveView,onMoveFolder:o.props.onMoveFolder,foldersStr:"",currentPageId:o.props.currentPageId},u)}},o.renderStructureBody=r.forwardRef((function(e,t){var n=o.props,r=n.navigation,i=n.views,a=n.isEditMode,s=!1;1===i.length&&(s=!0);var d=i.length,u={};i.forEach((function(e){return u[e.id]=e}));var c={maxHeight:a?"calc(100% - 40px)":"100%"};return(0,H.jsx)("div",{className:"view-structure-body",style:c,children:r.map((function(t,n){return"folder"===t.type?o.renderFolder(t,n,d,s,u,e):o.renderView(t,n,d,s,u)}))})})),o.collect=function(e){return{item:e.getItem(),itemType:e.getItemType(),clientOffset:e.getClientOffset(),isDragging:e.isDragging()}},o.folderClassNameCache="",o.idFoldedStatusMap=o.getFoldedFoldersFromBase(),o}return(0,s.Z)(n,[{key:"render",value:function(){var e=R((0,F.GR)("ViewStructure",{},(function(e){return{connectDropTarget:e.dropTarget()}}))((0,F.rE)(this.collect)(this.renderStructureBody)));return(0,H.jsxs)("div",{className:j()("view-structure",{"view-structure-dark":false},{"view-structure-light":!0}),children:[(0,H.jsx)(e,{}),this.props.isEditMode&&(0,H.jsx)(ge,{onToggleAddView:this.props.onToggleAddView,onToggleAddFolder:this.props.onToggleAddFolder})]})}}]),n}(r.Component),ye=ve,me=n(95423),we=function(){function e(t){var n=t.name,r=t.href,o=t.parentNode;(0,a.Z)(this,e),this.name=n,this.href=r,this.parentNode=o||null,this.children=[]}return(0,s.Z)(e,[{key:"setParent",value:function(e){this.parentNode=e}},{key:"addChildren",value:function(e){this.children=e}}]),e}(),be=function e(t,n){var r=t.name,o="/"===n?n+r:n+"/"+r;t.path=o,t.children.length>0&&t.children.forEach((function(t){e(t,o)}))},De=function(e){var t;if(e.children[1]&&"link"===e.children[1].type){var n=e.children[1],r=n.children[0],o=r?r.text:"";t=new we({name:o,href:n.url})}else if(e.children[0]){var i=e.children[0],a=i.text?i.text:"";t=new we({name:a,href:""})}else t=new we({name:"",href:""});return t},ke=function e(t,n){var r=t.map((function(t){if(2!==t.children.length||"unordered_list"!==t.children[1].type&&"ordered_list"!==t.children[1].type)return t.children[0]&&"paragraph"===t.children[0].type?De(t.children[0]):new we({name:"",href:""});var n=t.children[0],r=De(n),o=t.children[1];return e(o.children,r)}));return n.addChildren(r),n},Se=function(e){var t=new we({name:"",href:""});return e.forEach((function(e){"unordered_list"!==e.type&&"ordered_list"!==e.type||(t=ke(e.children,t),be(t,"/"))})),t},xe=function(e){(0,d.Z)(n,e);var t=(0,u.Z)(n);function n(e){var r;return(0,a.Z)(this,n),(r=t.call(this,e)).toggleExpanded=function(){var e=r.state.expanded;r.setState({expanded:!e})},r.onLinkClick=function(e){e.preventDefault();var t=r.props.node,n=r.state.expanded;t.children&&t.children.length>0&&!n?r.setState({expanded:!n}):r.props.onLinkClick(t)},r.itemClick=function(){var e=r.props.node,t=r.state.expanded;e.children&&e.children.length>0&&r.setState({expanded:!t})},r.renderLink=function(e){var t=e.href,n=e.name,o=e.path,i=e.children,a=r.props.currentPath,s=j()("wiki-nav-content",{"no-children":!i||0===i.length,"wiki-nav-content-highlight":a===o});return t&&n?(0,H.jsx)("div",{className:s,children:(0,H.jsx)("a",{href:t,"data-path":o,onClick:r.onLinkClick,title:n,children:n})}):n?(0,H.jsx)("div",{className:s,onClick:r.itemClick,children:(0,H.jsx)("span",{title:n,children:n})}):null},r.state={expanded:!1},r}return(0,s.Z)(n,[{key:"render",value:function(){var e=this,t=this.props.node,r=this.state.expanded;return t.children.length>0?(0,H.jsxs)("div",{className:"pl-4 position-relative",children:[(0,H.jsx)("span",{className:"switch-btn",onClick:this.toggleExpanded,children:(0,H.jsx)("i",{className:"fa fa-caret-".concat(r?"down":"right")})}),this.renderLink(t),r&&t.children.map((function(t,r){return(0,H.jsx)(n,{node:t,currentPath:e.props.currentPath,onLinkClick:e.props.onLinkClick},r)}))]}):this.renderLink(t)}}]),n}(r.Component),Ce=function(e){(0,d.Z)(n,e);var t=(0,u.Z)(n);function n(e){var r;return(0,a.Z)(this,n),(r=t.call(this,e)).onLinkClick=function(e){var t=r.state.currentPath;e.path!==t&&(e.path&&r.setState({currentPath:e.path}),e.href&&r.props.onLinkClick(e.href))},r.changeInlineNode=function(e){var t;if("link"==e.type||"image"===e.type)if("image"==e.type&&y.O6){if(t=e.data.src,!new RegExp(y.xx+"/lib/"+y.Jv+"/file.*raw=1").test(t))return;var n=t.indexOf("/file"),r=t.indexOf("?"),o=t.substring(n+5,r);e.data.src=y.xx+"/view-image-via-public-wiki/?slug="+y.oF+"&path="+o}else if("link"==e.type){t=e.url;if(new RegExp(/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[\-;:&=\+\$,\w]+@)?[A-Za-z0-9\.\-]+|(?:www\.|[\-;:&=\+\$,\w]+@)[A-Za-z0-9\.\-]+)((?:\/[\+~%\/\.\w\-_]*)?\??(?:[\-\+=&;%@\.\w_]*)#?(?:[\.\!\/\\\w]*))?)/).test(t)){if(g.c.isInternalMarkdownLink(t,y.Jv)){var i=g.c.getPathFromInternalMarkdownLink(t,y.Jv);e.url=y.xx+"/published/"+y.oF+i}else if(g.c.isInternalDirLink(t,y.Jv)){var a=g.c.getPathFromInternalDirLink(t,y.Jv);e.url=y.xx+"/published/"+y.oF+a}}else t.startsWith("./")&&(t=t.slice(2)),e.url=y.xx+"/published/"+y.oF+"/"+t}return e},r.links=[],r.state={currentPath:"",treeRoot:{name:"",href:"",children:[],isRoot:!0}},r}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){var e=this.props.indexContent,t=(0,me.mdStringToSlate)(e),n=g.c.changeMarkdownNodes(t,this.changeInlineNode),r=Se(n);this.setState({treeRoot:r})}},{key:"render",value:function(){var e=this,t=this.state,n=t.treeRoot,r=t.currentPath;return(0,H.jsx)("div",{className:"mx-4 o-hidden",children:n.children.map((function(t){return(0,H.jsx)(xe,{node:t,currentPath:r,onLinkClick:e.onLinkClick},t.path)}))})}}]),n}(r.Component),Ie=function(){function e(){(0,a.Z)(this,e)}return(0,s.Z)(e,null,[{key:"modifyFolder",value:function(e,t,n){var r=this;e.forEach((function(e){e.type===ae&&r._modifyFolder(e,t,n)}))}},{key:"_modifyFolder",value:function(e,t,n){var r=this;if(e.id!==t)e.children.forEach((function(e){e.type===ae&&r._modifyFolder(e,t,n)}));else for(var o in n)e[o]=n[o]}},{key:"deleteFolder",value:function(e,t,n){var r=this,o=this.getFolderIndexById(e,n);return o>-1?(this._deletePagesInFolder(t,e[o]),e.splice(o,1),!0):(e.forEach((function(e){if(e.type===ae){var o=r.getFolderIndexById(e.children,n);if(o>-1){var i=e.children[o];return r._deletePagesInFolder(t,i),e.children.splice(o,1),!0}}})),!1)}},{key:"_deletePagesInFolder",value:function(e,t){var n=this;t.children.forEach((function(t){if(t.type===ae&&n._deletePagesInFolder(e,t),t.type===se){var r=n.getPageIndexById(t.id,e);e.splice(r,1)}}))}},{key:"addPage",value:function(e,t,n){var r=this;n?e.forEach((function(e){e.type===ae&&r._addPageInFolder(t,e,n)})):e.push({id:t,type:se})}},{key:"_addPageInFolder",value:function(e,t,n){var r=this;if(t.id===n)return t.children.push({id:e,type:se}),!0;t.children.forEach((function(t){t.type===ae&&r._addPageInFolder(e,t,n)}))}},{key:"insertPage",value:function(e,t,n,r,o){var i=this;if(!r){var a=n?e.findIndex((function(e){return e.id===n})):-1;return a<0?(this.addPage(e,t,r),!0):("move_below"===o&&a++,void e.splice(a,0,{id:t,type:se}))}e.forEach((function(e){e.type===ae&&i._insertPageIntoFolder(e,t,n,r,o)}))}},{key:"_insertPageIntoFolder",value:function(e,t,n,r,o){var i=this;if(e.id===r){var a=n?e.children.findIndex((function(e){return e.id===n})):-1;return"move_below"===o&&a++,void e.children.splice(a,0,{id:t,type:se})}e.children.forEach((function(e){e.type===ae&&i._insertPageIntoFolder(e,t,n,r,o)}))}},{key:"insertPageOut",value:function(e,t,n,r){var o=this,i=0;"move_below"===r&&i++;var a={id:t,type:se},s=this.getFolderIndexById(e,n);s>-1?e.splice(s+i,0,a):e.forEach((function(e){if(e.type===ae){var t=o.getFolderIndexById(e.children,n);t>-1&&e.children.splice(t+i,0,a)}}))}},{key:"deletePage",value:function(e,t){var n=this,r=e.findIndex((function(e){return e.id===t}));if(r>-1)return e.splice(r,1),!0;e.forEach((function(e){e.type===ae&&n._deletePageInFolder(e,t)}))}},{key:"_deletePageInFolder",value:function(e,t){var n=this,r=e.children.findIndex((function(e){return e.id===t}));if(r>-1)return e.children.splice(r,1),!0;e.children.forEach((function(e){e.type===ae&&n._deletePageInFolder(e,t)}))}},{key:"movePage",value:function(e,t,n,r,o,i){this.deletePage(e,t,r),this.insertPage(e,t,n,o,i)}},{key:"movePageOut",value:function(e,t,n,r,o){this.deletePage(e,t,n),this.insertPageOut(e,t,r,o)}}]),e}();Ie.getPageById=function(e,t){return t&&Array.isArray(e)&&e.find((function(e){return e.id===t}))||null},Ie.getPageFromNavigationById=function(e,t){if(!t||!Array.isArray(e))return null;var n=e.indexOf((function(e){return e.id===t}));if(n>-1)return e[n];for(var r=0;r<e.length;r++){var o=e[r];if(o.id===t)return o;if(Array.isArray(o.children))for(var i=0;i<o.children.length;i++)if(o.children[i].id===t)return o.children[i]}return null},Ie.getPageIndexById=function(e,t){return t.findIndex((function(t){return t.id===e}))},Ie.getFolderById=function(e,t){return t&&Array.isArray(e)?e.find((function(e){return e.type===ae&&e.id===t})):null},Ie.getFolderIndexById=function(e,t){return t&&Array.isArray(e)?e.findIndex((function(e){return e.id===t})):-1};var Oe=n(74073),_e=n(54105),Ee=n(85951),Pe=n(5684),Te=n(93869),Ne=function(e){(0,d.Z)(n,e);var t=(0,u.Z)(n);function n(e){var r;return(0,a.Z)(this,n),(r=t.call(this,e)).onHotKey=function(e){13===e.keyCode&&(e.preventDefault(),r.handleSubmit())},r.handleChange=function(e){var t=r.state.folderName,n=e.target.value;n!==t&&r.setState({folderName:n})},r.handleSubmit=function(){var e=r.state,t=e.folderName,n=e.iconClassName;t?(r.props.onAddFolder({name:t,icon:n}),r.props.onToggleAddFolderDialog()):r.setState({errMessage:(0,y.ih)("Name_is_required")})},r.toggle=function(){r.props.onToggleAddFolderDialog()},r.onIconChange=function(e){r.setState({iconClassName:e})},r.state={folderName:"",errMessage:"",iconClassName:""},r}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.onHotKey)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onHotKey)}},{key:"render",value:function(){var e=this,t=this.state,n=t.folderName,r=t.errMessage;return(0,H.jsxs)(h.Z,{isOpen:!0,toggle:this.toggle,autoFocus:!1,className:"new-folder-dialog",children:[(0,H.jsx)(X.Z,{toggle:this.toggle,children:(0,y.ih)("New folder")}),(0,H.jsxs)(Y.Z,{children:[(0,H.jsx)(Oe.Z,{children:(0,H.jsxs)(_e.Z,{children:[(0,H.jsx)(Ee.Z,{for:"folderName",children:(0,y.ih)("Name")}),(0,H.jsx)(Pe.Z,{id:"folderName",value:n,innerRef:function(t){e.newInput=t},onChange:this.handleChange,autoFocus:!0})]})}),r&&(0,H.jsx)(Te.Z,{color:"danger",className:"mt-2",children:r})]}),(0,H.jsxs)(Q.Z,{children:[(0,H.jsx)($.Z,{color:"secondary",onClick:this.toggle,children:(0,y.ih)("Cancel")}),(0,H.jsx)($.Z,{color:"primary",onClick:this.handleSubmit,children:(0,y.ih)("Submit")})]})]})}}]),n}(r.Component),je=n(4514),Me="/wiki-pages/",Fe=function(e){(0,d.Z)(n,e);var t=(0,u.Z)(n);function n(e){var r;return(0,a.Z)(this,n),(r=t.call(this,e)).handleChange=function(e){var t=e.target.value;t!==r.state.pageName&&r.setState({pageName:t})},r.handleKeyDown=function(e){13===e.keyCode&&(e.preventDefault(),r.onSubmit())},r.toggle=function(){r.props.toggle()},r.checkName=function(e){return""===e?(x.Z.danger((0,y.ih)("Name cannot be empty")),!1):e.includes("/")?(x.Z.danger((0,y.ih)("Name cannot contain slash")),!1):!e.includes("\\")||(x.Z.danger((0,y.ih)("Name cannot contain backslash")),!1)},r.onSubmit=function(){var e=r.state.pageName.trim();r.checkName(e)&&(r.setState({isLoading:!0}),r.createFile(e,"".concat(Me).concat(e,".sdoc")))},r.createFile=function(e,t){je.I.createFile(y.Jv,t).then((function(t){var n=t.data,o=n.obj_name,i=n.parent_dir,a=n.doc_uuid;r.props.onAddNewPage({name:e,icon:"",path:"/"===i?"/".concat(o):"".concat(i,"/").concat(o),docUuid:a,successCallback:r.onSuccess,errorCallback:r.onError})})).catch((function(e){var t=g.c.getErrorMsg(e);x.Z.danger(t),r.onError()}))},r.onSuccess=function(){r.toggle()},r.onError=function(){r.setState({isLoading:!1})},r.state={pageName:"",isLoading:!0,errMessage:""},r}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){var e=this;je.I.getDirInfo(y.Jv,Me).then((function(t){t.data.path===Me&&e.setState({isLoading:!1})})).catch((function(t){if("Folder /wiki-pages/ not found."===t.response.data.error_msg)je.I.createDir(y.Jv,Me).then((function(t){"success"===t.data&&e.setState({isLoading:!1})})).catch((function(t){var n=g.c.getErrorMsg(t);x.Z.danger(n),e.setState({isLoading:!1})}));else{var n=g.c.getErrorMsg(t);x.Z.danger(n),e.setState({isLoading:!1})}}))}},{key:"render",value:function(){return(0,H.jsxs)(h.Z,{isOpen:!0,toggle:this.toggle,autoFocus:!1,className:"add-new-page-dialog",children:[(0,H.jsx)(X.Z,{toggle:this.toggle,children:(0,y.ih)("Add page")}),(0,H.jsxs)(Y.Z,{className:"pr-4",children:[(0,H.jsx)(Ee.Z,{children:(0,y.ih)("Page name")}),(0,H.jsx)(Pe.Z,{className:"mb-4",value:this.state.pageName,onChange:this.handleChange,autoFocus:!0,onKeyDown:this.handleKeyDown})]}),(0,H.jsxs)(Q.Z,{children:[(0,H.jsx)($.Z,{color:"secondary",onClick:this.toggle,children:(0,y.ih)("Cancel")}),this.state.isLoading?(0,H.jsx)($.Z,{color:"primary",disabled:!0,children:(0,H.jsx)(P.Z,{})}):(0,H.jsx)($.Z,{color:"primary",onClick:this.onSubmit,children:(0,y.ih)("Submit")})]})]})}}]),n}(r.Component),Ze=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4,t="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789abcdefghijklmnopqrstuvwxyz0123456789",n="",r=0;r<e;r++)n+=t.charAt(Math.floor(72*Math.random()));return n},Re=function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,t={};function n(e){e&&(t[e.id]=!0,Array.isArray(e.children)&&e.children.forEach((function(e){n(e)})))}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(e){return n(e)}));for(var r=Ze(e);t[r];)r=Ze(e);return r},Ae=window.wiki.config.repoName,Le=function(e){(0,d.Z)(n,e);var t=(0,u.Z)(n);function n(e){var r;return(0,a.Z)(this,n),(r=t.call(this,e)).renderIndexView=function(){return(0,H.jsxs)("div",{className:"wiki2-pages-container",children:[(0,H.jsx)("div",{style:{marginTop:"2px"}}),(0,H.jsx)(Ce,{indexContent:r.props.indexContent,onLinkClick:r.props.onLinkClick})]})},r.renderTreeView=function(){return(0,H.jsxs)("div",{className:"wiki2-pages-container",children:[y.Cb&&(0,H.jsx)(ge,{onToggleAddView:r.openAddPageDialog,onToggleAddFolder:r.onToggleAddFolder}),r.state.isShowNewFolderDialog&&(0,H.jsx)(Ne,{onAddFolder:r.addPageFolder,onToggleAddFolderDialog:r.onToggleAddFolder}),r.state.isShowAddNewPageDialog&&(0,H.jsx)(Fe,{toggle:r.closeAddNewPageDialog,onAddNewPage:r.onAddNewPage})]})},r.confirmDeletePage=function(e){var t=E()(r.props.config),n=t.pages,o=t.navigation,i=Ie.getPageIndexById(e,n),a=n.findIndex((function(t){return t.id===e})),s=n[a].path;t.pages.splice(i,1),Ie.deletePage(o,e),r.props.saveWikiConfig(t),je.I.deleteFile(y.Jv,s),t.pages.length>0?r.props.setCurrentPage(t.pages[0].id):r.props.setCurrentPage("")},r.onAddNewPage=function(){var e=(0,O.Z)((0,I.Z)().mark((function e(t){var n,o,i,a,s,d,u,c,l,f;return(0,I.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.name,o=t.icon,i=t.path,a=t.docUuid,s=t.successCallback,d=t.errorCallback,u=r.props.config,c=u.navigation,l=Re(c),f=new w({id:l,name:n,icon:o,path:i,docUuid:a}),r.addPage(f,s,d);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.duplicatePage=function(){var e=(0,O.Z)((0,I.Z)().mark((function e(t,n,o){var i,a,s,d,u,c,l,f,p;return(0,I.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=r.props.config,a=t.name,s=t.from_page_id,d=i.navigation,u=i.pages,c=Ie.getPageById(u,s),l=Re(d),f=(0,C.Z)((0,C.Z)({},c),{},{id:l,name:a}),p=new w((0,C.Z)({},f)),r.addPage(p,n,o);case 8:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),r.addPage=function(e,t,n){var o=r.props.config,i=o.navigation,a=e.id;o.pages.push(e),Ie.addPage(i,a,r.current_folder_id),o.navigation=i;r.props.saveWikiConfig(o,(function(){r.props.setCurrentPage(a,t),t()}),n)},r.onUpdatePage=function(e,t){if(""!==t.name){var n=r.props.config,o=n.pages,i=o.find((function(t){return t.id===e}));Object.assign(i,t),n.pages=o,r.props.saveWikiConfig(n)}else x.Z.danger((0,y.ih)("Page name cannot be empty"))},r.movePage=function(e){var t=e.moved_view_id,n=e.target_view_id,o=e.source_view_folder_id,i=e.target_view_folder_id,a=e.move_position,s=E()(r.props.config),d=s.navigation;Ie.movePage(d,t,n,o,i,a),s.navigation=d,r.props.saveWikiConfig(s)},r.movePageOut=function(e,t,n,o){var i=E()(r.props.config),a=i.navigation;Ie.movePageOut(a,e,t,n,o),i.navigation=a,r.props.saveWikiConfig(i)},r.addPageFolder=function(e,t){var n=r.props.config,o=n.navigation,i=Re(o),a=new b((0,C.Z)({id:i},e));t?o.forEach((function(e){e.type===ae&&r._addFolder(e,a,t)})):n.navigation.push(a),r.props.saveWikiConfig(n)},r.onModifyFolder=function(e,t){var n=r.props.config,o=n.navigation;Ie.modifyFolder(o,e,t),n.navigation=o,r.props.saveWikiConfig(n)},r.onDeleteFolder=function(e){var t=r.props.config,n=t.navigation,o=t.pages;Ie.deleteFolder(n,o,e),t.navigation=n,r.props.saveWikiConfig(t)},r.onMoveFolder=function(e,t,n){var o,i=r.props.config,a=i.navigation,s=E()(a),d=Ie.getFolderIndexById(s,e);-1===d?s.forEach((function(t){t.type===ae&&(d=Ie.getFolderIndexById(t.children,e))>-1&&(o=t.children[d],t.children.splice(d,1))})):(o=s[d],s.splice(d,1));var u=0;"move_below"===n&&u++;var c=Ie.getFolderIndexById(s,t);-1===c?s.forEach((function(e){e.type===ae?(c=Ie.getFolderIndexById(e.children,t))>-1&&e.children.splice(c+u,0,o):s=a})):s.splice(c+u,0,o),i.navigation=s,r.props.saveWikiConfig(i)},r.moveFolderToFolder=function(e,t){var n=r.props.config,o=n.navigation,i=Ie.getFolderById(o,t);if(i){var a,s=Ie.getFolderIndexById(o,e);if(s>-1){if((a=Ie.getFolderById(o,e)).children.some((function(e){return e.type===ae})))return void x.Z.danger("Only_support_two_level_folders");i.children.push(a),o.splice(s,1)}else o.forEach((function(t){if(t.type===ae){var n=Ie.getFolderIndexById(t.children,e);n>-1&&(a=t.children[n],i.children.push(a),t.children.splice(n,1))}}));n.navigation=o,r.props.saveWikiConfig(n)}else x.Z.danger("Only_support_two_level_folders")},r.onToggleAddFolder=function(){r.setState({isShowNewFolderDialog:!r.state.isShowNewFolderDialog})},r.openAddPageDialog=function(e){r.current_folder_id=e,r.setState({isShowAddNewPageDialog:!0})},r.closeAddNewPageDialog=function(){r.current_folder_id=null,r.setState({isShowAddNewPageDialog:!1})},r.onSetFolderId=function(e){r.current_folder_id=e},r.renderFolderView=function(){var e=r.props.config,t=e.pages,n=e.navigation;return(0,H.jsxs)("div",{className:"wiki2-pages-container",children:[(0,H.jsx)(ye,{isEditMode:y.Cb,navigation:n,views:t,onToggleAddView:r.openAddPageDialog,onDeleteView:r.confirmDeletePage,onUpdatePage:r.onUpdatePage,onSelectView:r.props.setCurrentPage,onMoveView:r.movePage,movePageOut:r.movePageOut,onToggleAddFolder:r.onToggleAddFolder,onModifyFolder:r.onModifyFolder,onDeleteFolder:r.onDeleteFolder,onMoveFolder:r.onMoveFolder,moveFolderToFolder:r.moveFolderToFolder,onAddNewPage:r.onAddNewPage,duplicatePage:r.duplicatePage,onSetFolderId:r.onSetFolderId,currentPageId:r.props.currentPageId}),r.state.isShowNewFolderDialog&&(0,H.jsx)(Ne,{onAddFolder:r.addPageFolder,onToggleAddFolderDialog:r.onToggleAddFolder}),r.state.isShowAddNewPageDialog&&(0,H.jsx)(Fe,{toggle:r.closeAddNewPageDialog,onAddNewPage:r.onAddNewPage})]})},r.renderContent=function(){var e,t=r.props,n=t.isLoading,o=t.indexNode,i=t.config;return n?(0,H.jsx)(P.Z,{}):o?r.renderIndexView():(e=i)&&Object.keys(e).length>0?r.renderFolderView():r.renderTreeView()},r.isNodeMenuShow=!1,r.state={isShowNewFolderDialog:!1,isShowAddNewPageDialog:!1},r}return(0,s.Z)(n,[{key:"_addFolder",value:function(e,t,n){var r=this;e.id!==n?e.children.forEach((function(e){e.type===ae&&r._addFolder(e,t,n)})):e.children.push(t)}},{key:"render",value:function(){return(0,H.jsxs)("div",{className:"wiki2-side-panel".concat(this.props.closeSideBar?"":" left-zero"),children:[(0,H.jsx)("div",{className:"wiki2-side-panel-top",children:(0,H.jsx)("h4",{className:"text-truncate ml-0 mb-0",title:Ae,children:Ae})}),(0,H.jsx)("div",{className:"wiki2-side-nav",children:this.renderContent()})]})}}]),n}(r.Component),Ve=Le,Be=n(75517),Ue=n(93190);var We=function(e){var t=e.config,n=e.currentPageId,r=t.navigation,o=t.pages,i=r.find((function(e){return"folder"===e.type&&e.children&&e.children.find((function(e){return e.id===n}))})),a=o.find((function(e){return e.id===n}));return(0,H.jsxs)("div",{className:"wiki2-top-nav d-flex",children:[i&&(0,H.jsxs)(H.Fragment,{children:[(0,H.jsxs)("div",{className:"wiki2-top-nav-item d-flex",children:[(0,H.jsx)(te,{symbol:"wiki-folder",disable:!0}),i.name]}),(0,H.jsx)("div",{children:"/"})]}),a&&(0,H.jsxs)("div",{className:"wiki2-top-nav-item d-flex",children:[(0,H.jsx)(te,{symbol:"file",disable:!0}),a.name]})]})},He=function(e){(0,d.Z)(n,e);var t=(0,u.Z)(n);function n(e){var o;return(0,a.Z)(this,n),(o=t.call(this,e)).onMenuClick=function(){o.props.onMenuClick()},o.onEditClick=function(e){e.preventDefault();var t=y.ze+"lib/"+y.Jv+"/file"+o.props.path+"?mode=edit";window.open(t)},o.onMainNavBarClick=function(e){var t=g.c.getEventData(e,"path");o.props.onMainNavBarClick(t)},o.renderNavPath=function(){var e=o.props.path.split("/"),t="";return e.map((function(n,i){return""===n?null:i===e.length-1?(0,H.jsxs)(r.Fragment,{children:[(0,H.jsx)("span",{className:"path-split",children:"/"}),(0,H.jsx)("span",{className:"path-file-name",children:n})]},i):(t+="/"+n,(0,H.jsxs)(r.Fragment,{children:[(0,H.jsx)("span",{className:"path-split",children:"/"}),(0,H.jsx)("a",{className:"path-link","data-path":t,onClick:o.onMainNavBarClick,children:n})]},i))}))},o.state={docUuid:""},o}return(0,s.Z)(n,[{key:"render",value:function(){var e=(0,H.jsx)("div",{className:"message err-tip",children:(0,y.ih)("Folder does not exist.")}),t=this.props,n=t.content,r=t.permission,o=t.pathExist,i=t.isDataLoading,a=t.isViewFile,s=o&&!i&&a,d=n&&JSON.parse(n),u=!("rw"===r);return(0,H.jsxs)("div",{className:"wiki2-main-panel",children:[(0,H.jsx)("div",{className:"main-panel-hide hide",children:this.props.content}),(0,H.jsxs)("div",{className:"wiki2-main-panel-north",children:[(0,H.jsx)(We,{config:this.props.config,currentPageId:this.props.currentPageId}),y.b6&&(0,H.jsx)(Ue.Z,{})]}),(0,H.jsx)("div",{className:"main-panel-center",children:(0,H.jsxs)("div",{className:"cur-view-content ".concat(s?"o-hidden":""),children:[!this.props.pathExist&&e,this.props.pathExist&&this.props.isDataLoading&&(0,H.jsx)(P.Z,{}),s&&g.c.isSdocFile(this.props.path)&&(0,H.jsx)(Be.sz,{document:d,showOutline:!1,showToolbar:!1,docUuid:this.state.docUuid,isWikiReadOnly:u})]})})]})}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.seadoc_access_token,r=window.app.config,o=window.app.pageOptions,i=window.wiki.config,a=i.assetsUrl,s=i.seadocServerUrl;return window.seafile=(0,C.Z)((0,C.Z)((0,C.Z)((0,C.Z)({},window.seafile),r),o),{},{sdocServer:s,assetsUrl:a||e.assets_url,accessToken:n,serviceUrl:r.serviceURL,assets_url:r.assetsUrl}),(0,C.Z)((0,C.Z)({},e),{},{docUuid:window.seafile.docUuid})}}]),n}(r.Component);n(54890),n(3497),n(98391),n(53379);l().locale(y.KQ);var Ge=function(e){(0,d.Z)(n,e);var t=(0,u.Z)(n);function n(e){var r;return(0,a.Z)(this,n),(r=t.call(this,e)).handlePath=function(){return y.Cb?"wikis/":"published/"},r.getWikiConfig=function(){v.Z.getWiki2Config(y.Zx).then((function(e){var t=e.data.wiki,n=t.wiki_config,o=t.repo_id;try{JSON.parse(n)}catch(a){return x.Z.danger((0,y.ih)("Wiki config error")),void r.setState({isConfigLoading:!1})}var i=new D(JSON.parse(n)||{});r.setState({config:i,isConfigLoading:!1,repoId:o},(function(){var e=r.getFirstPageId(i);e&&r.setCurrentPage(e)}))})).catch((function(e){var t=g.c.getErrorMsg(e);x.Z.danger(t),r.setState({isConfigLoading:!1})}))},r.saveWikiConfig=function(e,t,n){v.Z.updateWiki2Config(y.Zx,JSON.stringify(e)).then((function(n){r.setState({config:new D(e||{})}),t&&t()})).catch((function(e){var t=g.c.getErrorMsg(e);x.Z.danger(t),n&&n()}))},r.getFirstPageId=function(e){if(!e||!Array.isArray(e.navigation))return"";for(var t=0;t<e.navigation.length;t++){var n=e.navigation[t]||{};if("page"===n.type)return n.id;if("folder"===n.type&&n.children[0])return n.children[0].id}},r.loadSidePanel=function(e){y.dP?r.loadIndexNode():(e="None"===y.zj||g.c.isSdocFile(e)?"/":e,r.loadNodeAndParentsByPath(e))},r.loadWikiData=function(e){if(r.pythonWrapper=document.getElementById("wiki-file-content"),"False"===y.zj&&g.c.isSdocFile(e))r.showDir("/");else if("False"!==y.zj)if(r.removePythonWrapper(),"True"!==y.zj)if("None"!==y.zj||"/home.md"!==e){if("None"===y.zj){r.setState({pathExist:!1});var t=y.ze+r.handlePath()+y.Zx+g.c.encodePath(e);window.history.pushState({url:t,path:e},e,t)}}else r.showDir("/");else r.showDir(e);else r.setState({path:e})},r.loadIndexNode=function(){v.Z.listWiki2Dir(y.Zx,"/").then((function(e){var t=r.state.treeData;r.addFirstResponseListToNode(e.data.dirent_list,t.root);var n=t.getNodeByPath(r.indexPath);v.Z.getWiki2FileContent(y.Zx,n.path).then((function(e){r.setState({treeData:t,indexNode:n,indexContent:e.data.content,isTreeDataLoading:!1})}))})).catch((function(){r.setState({isLoadFailed:!0})}))},r.showDir=function(e){r.removePythonWrapper(),r.loadDirentList(e);var t=y.ze+r.handlePath()+y.Zx+g.c.encodePath(e);window.history.pushState({url:t,path:e},e,t)},r.showFile=function(e){r.setState({isDataLoading:!0}),r.removePythonWrapper(),v.Z.getWiki2FileContent(y.Zx,e).then((function(t){var n=t.data;r.setState({isDataLoading:!1,content:n.content,permission:n.permission,lastModified:l().unix(n.last_modified).fromNow(),latestContributor:n.latest_contributor,seadoc_access_token:n.seadoc_access_token,assets_url:n.assets_url,isViewFile:!0,path:e})})).catch((function(e){var t=g.c.getErrorMsg(e);x.Z.danger(t)}));var t=window.location.hash,n="".concat(y.ze).concat(r.handlePath()).concat(y.Zx).concat(g.c.encodePath(e)).concat(t);"/home.md"===e?window.history.replaceState({url:n,path:e},e,n):window.history.pushState({url:n,path:e},e,n)},r.loadDirentList=function(e){r.setState({isDataLoading:!0}),v.Z.listWiki2Dir(y.Zx,e).then((function(t){var n=t.data.dirent_list.map((function(e){return new m.Z(e)}));"/"===e&&(n=n.filter((function(e){if("dir"===e.type){var t=e.name.toLowerCase();return"drafts"!==t&&"images"!==t&&"downloads"!==t}return!0}))),n=g.c.sortDirents(n,"name","asc"),r.setState({path:e,isViewFile:!1,direntList:n,isDataLoading:!1})})).catch((function(){r.setState({isLoadFailed:!0})}))},r.loadTreeNodeByPath=function(e){var t=r.state.treeData.clone(),n=t.getNodeByPath(e);n.isLoaded?(t.getNodeByPath(n.parentNode.path).isExpanded=!0,r.setState({treeData:t,currentNode:n})):v.Z.listWiki2Dir(y.Zx,n.path).then((function(e){r.addResponseListToNode(e.data.dirent_list,n),t.getNodeByPath(n.parentNode.path).isExpanded=!0,r.setState({treeData:t,currentNode:n})}))},r.loadNodeAndParentsByPath=function(e){var t=r.state.treeData.clone();g.c.isMarkdownFile(e)&&(e=g.c.getDirName(e)),v.Z.listWiki2Dir(y.Zx,e,!0).then((function(e){for(var n=e.data.dirent_list,o={},i=0;i<n.length;i++){var a=n[i],s=a.parent_dir;o[s]||(o[s]=[]),o[s].push(a)}for(var d in o){var u=t.getNodeByPath(d);u.isLoaded||"/"!==u.path?u.isLoaded||r.addResponseListToNode(o[d],u):r.addFirstResponseListToNode(o[d],u)}r.setState({isTreeDataLoading:!1,treeData:t})})).catch((function(){r.setState({isLoadFailed:!0})}))},r.removePythonWrapper=function(){r.pythonWrapper&&(document.body.removeChild(r.pythonWrapper),r.pythonWrapper=null)},r.onConentLinkClick=function(e){e.preventDefault(),e.stopPropagation();var t="";if("A"!==e.target.tagName){for(var n=e.target.parentNode;"A"!==n.tagName;)n=n.parentNode;t=n.href}else t=e.target.href;r.onLinkClick(t)},r.onLinkClick=function(e){var t=e;if(g.c.isWikiInternalMarkdownLink(t,y.oF)){var n=g.c.getPathFromWikiInternalMarkdownLink(t,y.oF);r.showFile(n)}else if(g.c.isWikiInternalDirLink(t,y.oF)){var o=g.c.getPathFromWikiInternalDirLink(t,y.oF);r.showDir(o)}else window.location.href=t;r.state.closeSideBar||r.setState({closeSideBar:!0})},r.onpopstate=function(e){if(e.state&&e.state.path){var t=e.state.path;g.c.isMarkdownFile(t)?r.showFile(t):(r.loadDirentList(t),r.setState({path:t,isViewFile:!1}))}},r.onSearchedClick=function(e){var t=e.is_dir?e.path.slice(0,e.path.length-1):e.path;if(r.state.currentPath!==t){for(var n=-1,o=g.c.getPaths(t),i=0;i<o.length;i++){var a=r.state.treeData.getNodeByPath(a);if(!a){n=i;break}}if(-1===n){var s=r.state.treeData.clone(),d=s.getNodeByPath(e.path);S.Z.expandNode(d),r.setState({treeData:s})}else r.loadNodeAndParentsByPath(t);if(e.is_dir)r.showDir(t);else if(g.c.isMarkdownFile(t))r.showFile(t);else{var u=y.ze+"d/"+y.lI+"/files/?p="+g.c.encodePath(t);window.open("about:blank").location.href=u}}},r.onMenuClick=function(){r.setState({closeSideBar:!r.state.closeSideBar})},r.onMainNavBarClick=function(e){var t=r.state.treeData.clone(),n=t.getNodeByPath(e);t.expandNode(n),r.setState({treeData:t,currentNode:n}),r.showDir(n.path)},r.onDirentClick=function(e){var t=g.c.joinPath(r.state.path,e.name);if(e.isDir())r.loadTreeNodeByPath(t),r.showDir(t);else if(g.c.isMarkdownFile(t))r.showFile(t);else{var n=window.open("about:blank"),o=y.ze+"d/"+y.lI+"/files/?p="+g.c.encodePath(t);n.location.href=o}},r.onCloseSide=function(){r.setState({closeSideBar:!r.state.closeSideBar})},r.onNodeClick=function(e){if(r.state.pathExist||r.setState({pathExist:!0}),e.object.isDir()){if(!e.isLoaded){var t=r.state.treeData.clone();e=t.getNodeByPath(e.path),v.Z.listWiki2Dir(y.Zx,e.path).then((function(n){r.addResponseListToNode(n.data.dirent_list,e),t.collapseNode(e),r.setState({treeData:t})}))}if(e.path===r.state.path)if(e.isExpanded){var n=S.Z.collapseNode(r.state.treeData,e);r.setState({treeData:n})}else{var o=r.state.treeData.clone();e=o.getNodeByPath(e.path),o.expandNode(e),r.setState({treeData:o})}}if(e.path!==r.state.path)if(e.object.isDir())r.showDir(e.path);else if(g.c.isMarkdownFile(e.path)||g.c.isSdocFile(e.path))e.path!==r.state.path&&r.showFile(e.path),r.onCloseSide();else{var i=window.open("about:blank"),a=y.ze+"d/"+y.lI+"/files/?p="+g.c.encodePath(e.path);i.location.href=a}},r.onNodeCollapse=function(e){var t=S.Z.collapseNode(r.state.treeData,e);r.setState({treeData:t})},r.onNodeExpanded=function(e){var t=r.state.treeData.clone();(e=t.getNodeByPath(e.path)).isLoaded?(t.expandNode(e),r.setState({treeData:t})):v.Z.listWiki2Dir(y.Zx,e.path).then((function(n){r.addResponseListToNode(n.data.dirent_list,e),r.setState({treeData:t})}))},r.addFirstResponseListToNode=function(e,t){t.isLoaded=!0,t.isExpanded=!0;var n=e.map((function(e){return new m.Z(e)}));n=n.filter((function(e){if("dir"===e.type){var t=e.name.toLowerCase();return"drafts"!==t&&"images"!==t&&"downloads"!==t}return!0}));var r=(n=g.c.sortDirents(n,"name","asc")).map((function(e){return new k.Z({object:e})}));t.addChildren(r)},r.addResponseListToNode=function(e,t){t.isLoaded=!0,t.isExpanded=!0;var n=e.map((function(e){return new m.Z(e)})),r=(n=g.c.sortDirents(n,"name","asc")).map((function(e){return new k.Z({object:e})}));t.addChildren(r)},r.setCurrentPage=function(e,t){var n=r.state,o=n.currentPageId,i=n.config;if(e!==o){var a=i.pages,s=Ie.getPageById(a,e).path;if(g.c.isMarkdownFile(s)||g.c.isSdocFile(s))s!==r.state.path&&r.showFile(s),r.onCloseSide();else{var d=window.open("about:blank"),u=y.ze+"d/"+y.lI+"/files/?p="+g.c.encodePath(s);d.location.href=u}r.setState({currentPageId:e,path:s},(function(){t&&t()}))}else t&&t()},r.state={path:"",pathExist:!0,closeSideBar:!1,isViewFile:!0,isDataLoading:!1,direntList:[],content:"",permission:"",lastModified:"",latestContributor:"",isTreeDataLoading:!0,isConfigLoading:!0,treeData:S.Z.buildTree(),currentNode:null,indexNode:null,indexContent:"",currentPageId:"",config:new D({}),repoId:"",seadoc_access_token:"",docUuid:"",assets_url:""},window.onpopstate=r.onpopstate,r.indexPath="/index.md",r.homePath="/home.md",r.pythonWrapper=null,r}return(0,s.Z)(n,[{key:"UNSAFE_componentWillMount",value:function(){g.c.isDesktop()||this.setState({closeSideBar:!0})}},{key:"componentDidMount",value:function(){var e=this;this.getWikiConfig(),this.loadSidePanel(y.OG),this.loadWikiData(y.OG),this.links=document.querySelectorAll("#wiki-file-content a"),this.links.forEach((function(t){return t.addEventListener("click",e.onConentLinkClick)}))}},{key:"componentWillUnmount",value:function(){var e=this;this.links.forEach((function(t){return t.removeEventListener("click",e.onConentLinkClick)}))}},{key:"render",value:function(){return(0,H.jsxs)("div",{id:"main",className:"wiki-main",children:[(0,H.jsx)(Ve,{isLoading:this.state.isTreeDataLoading||this.state.isConfigLoading,closeSideBar:this.state.closeSideBar,currentPath:this.state.path,treeData:this.state.treeData,indexNode:this.state.indexNode,indexContent:this.state.indexContent,onCloseSide:this.onCloseSide,onNodeClick:this.onNodeClick,onNodeCollapse:this.onNodeCollapse,onNodeExpanded:this.onNodeExpanded,onLinkClick:this.onLinkClick,config:this.state.config,saveWikiConfig:this.saveWikiConfig,setCurrentPage:this.setCurrentPage,currentPageId:this.state.currentPageId}),(0,H.jsx)(He,{path:this.state.path,config:this.state.config,currentPageId:this.state.currentPageId,pathExist:this.state.pathExist,isViewFile:this.state.isViewFile,isDataLoading:this.state.isDataLoading,content:this.state.content,permission:this.state.permission,lastModified:this.state.lastModified,latestContributor:this.state.latestContributor,onLinkClick:this.onLinkClick,onMenuClick:this.onMenuClick,onSearchedClick:this.onSearchedClick,onMainNavBarClick:this.onMainNavBarClick,seadoc_access_token:this.state.seadoc_access_token,assets_url:this.state.assets_url}),(0,H.jsx)(p(),{query:"(max-width: 767.8px)",children:(0,H.jsx)(h.Z,{isOpen:!this.state.closeSideBar,toggle:this.onCloseSide,contentClassName:"d-none"})})]})}}]),n}(r.Component),ze=n(12409);o.render((0,H.jsx)(i.I18nextProvider,{i18n:ze.Z,children:(0,H.jsx)(r.Suspense,{fallback:(0,H.jsx)(P.Z,{}),children:(0,H.jsx)(Ge,{})})}),document.getElementById("wrapper"))},10116:function(e,t,n){"use strict";var r=n(89881),o=[],i=[],a=r.makeRequestCallFromTimer((function(){if(i.length)throw i.shift()}));function s(e){var t;(t=o.length?o.pop():new d).task=e,r(t)}function d(){this.task=null}e.exports=s,d.prototype.call=function(){try{this.task.call()}catch(e){s.onerror?s.onerror(e):(i.push(e),a())}finally{this.task=null,o[o.length]=this}}},89881:function(e,t,n){"use strict";function r(e){i.length||(o(),!0),i[i.length]=e}e.exports=r;var o,i=[],a=0;function s(){for(;a<i.length;){var e=a;if(a+=1,i[e].call(),a>1024){for(var t=0,n=i.length-a;t<n;t++)i[t]=i[t+a];i.length-=a,a=0}}i.length=0,a=0,!1}var d="undefined"!==typeof n.g?n.g:self,u=d.MutationObserver||d.WebKitMutationObserver;function c(e){return function(){var t=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(t),clearInterval(n),e()}}}o="function"===typeof u?function(e){var t=1,n=new u(e),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}(s):c(s),r.requestFlush=o,r.makeRequestCallFromTimer=c},82823:function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(21717),i=(r=o)&&r.__esModule?r:{default:r},a=function(){function e(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Array.isArray(n[0])&&1===n.length&&(n=n[0]);for(var o=0;o<n.length;o++)if(!i.default(n[o]))throw new Error("Expected a disposable");this.disposables=n,this.isDisposed=!1}return e.prototype.add=function(e){this.isDisposed?e.dispose():this.disposables.push(e)},e.prototype.remove=function(e){if(this.isDisposed)return!1;var t=this.disposables.indexOf(e);return-1!==t&&(this.disposables.splice(t,1),e.dispose(),!0)},e.prototype.dispose=function(){if(!this.isDisposed){for(var e=this.disposables.length,t=new Array(e),n=0;n<e;n++)t[n]=this.disposables[n];this.isDisposed=!0,this.disposables=[],this.length=0;for(n=0;n<e;n++)t[n].dispose()}},e}();t.default=a,e.exports=t.default},23840:function(e,t){"use strict";t.__esModule=!0;var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var r=function(){},o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isDisposed=!1,this.action=t||r}return n(e,null,[{key:"empty",value:{dispose:r},enumerable:!0}]),e.prototype.dispose=function(){this.isDisposed||(this.action.call(null),this.isDisposed=!0)},e}();t.default=o,e.exports=t.default},47493:function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(21717),i=(r=o)&&r.__esModule?r:{default:r},a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isDisposed=!1,this.current=null}return e.prototype.getDisposable=function(){return this.current},e.prototype.setDisposable=function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0];if(null!=e&&!i.default(e))throw new Error("Expected either an empty value or a valid disposable");var t=this.isDisposed,n=void 0;t||(n=this.current,this.current=e),n&&n.dispose(),t&&e&&e.dispose()},e.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var e=this.current;this.current=null,e&&e.dispose()}},e}();t.default=a,e.exports=t.default},13476:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=r(n(21717));t.isDisposable=o.default;var i=r(n(23840));t.Disposable=i.default;var a=r(n(82823));t.CompositeDisposable=a.default;var s=r(n(47493));t.SerialDisposable=s.default},21717:function(e,t){"use strict";t.__esModule=!0,t.default=function(e){return Boolean(e&&"function"===typeof e.dispose)},e.exports=t.default},7043:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=d(n(57195)),i=d(n(50598)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(93604)),s=d(n(96233));function d(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=(0,o.default)(i.default);this.context=n,this.store=r,this.monitor=new s.default(r),this.registry=this.monitor.registry,this.backend=t(this),r.subscribe(this.handleRefCountChange.bind(this))}return r(e,[{key:"handleRefCountChange",value:function(){var e=this.store.getState().refCount>0;e&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!e&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1)}},{key:"getContext",value:function(){return this.context}},{key:"getMonitor",value:function(){return this.monitor}},{key:"getBackend",value:function(){return this.backend}},{key:"getRegistry",value:function(){return this.registry}},{key:"getActions",value:function(){var e=this,t=this.store.dispatch;return Object.keys(a).filter((function(e){return"function"===typeof a[e]})).reduce((function(n,r){var o,i=a[r];return n[r]=(o=i,function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=o.apply(e,r);"undefined"!==typeof a&&t(a)}),n}),{})}}]),e}();t.default=u},96233:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=c(n(36993)),i=c(n(95585)),a=c(n(77795)),s=c(n(96745)),d=n(84706),u=n(65042);function c(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=t,this.registry=new s.default(t)}return r(e,[{key:"subscribeToStateChange",value:function(e){var t=this,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).handlerIds;(0,o.default)("function"===typeof e,"listener must be a function."),(0,o.default)("undefined"===typeof n||(0,i.default)(n),"handlerIds, when specified, must be an array of strings.");var r=this.store.getState().stateId;return this.store.subscribe((function(){var o=t.store.getState(),i=o.stateId;try{i===r||i===r+1&&!(0,u.areDirty)(o.dirtyHandlerIds,n)||e()}finally{r=i}}))}},{key:"subscribeToOffsetChange",value:function(e){var t=this;(0,o.default)("function"===typeof e,"listener must be a function.");var n=this.store.getState().dragOffset;return this.store.subscribe((function(){var r=t.store.getState().dragOffset;r!==n&&(n=r,e())}))}},{key:"canDragSource",value:function(e){var t=this.registry.getSource(e);return(0,o.default)(t,"Expected to find a valid source."),!this.isDragging()&&t.canDrag(this,e)}},{key:"canDropOnTarget",value:function(e){var t=this.registry.getTarget(e);if((0,o.default)(t,"Expected to find a valid target."),!this.isDragging()||this.didDrop())return!1;var n=this.registry.getTargetType(e),r=this.getItemType();return(0,a.default)(n,r)&&t.canDrop(this,e)}},{key:"isDragging",value:function(){return Boolean(this.getItemType())}},{key:"isDraggingSource",value:function(e){var t=this.registry.getSource(e,!0);return(0,o.default)(t,"Expected to find a valid source."),!(!this.isDragging()||!this.isSourcePublic())&&(this.registry.getSourceType(e)===this.getItemType()&&t.isDragging(this,e))}},{key:"isOverTarget",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shallow:!1}).shallow;if(!this.isDragging())return!1;var n=this.registry.getTargetType(e),r=this.getItemType();if(!(0,a.default)(n,r))return!1;var o=this.getTargetIds();if(!o.length)return!1;var i=o.indexOf(e);return t?i===o.length-1:i>-1}},{key:"getItemType",value:function(){return this.store.getState().dragOperation.itemType}},{key:"getItem",value:function(){return this.store.getState().dragOperation.item}},{key:"getSourceId",value:function(){return this.store.getState().dragOperation.sourceId}},{key:"getTargetIds",value:function(){return this.store.getState().dragOperation.targetIds}},{key:"getDropResult",value:function(){return this.store.getState().dragOperation.dropResult}},{key:"didDrop",value:function(){return this.store.getState().dragOperation.didDrop}},{key:"isSourcePublic",value:function(){return this.store.getState().dragOperation.isSourcePublic}},{key:"getInitialClientOffset",value:function(){return this.store.getState().dragOffset.initialClientOffset}},{key:"getInitialSourceClientOffset",value:function(){return this.store.getState().dragOffset.initialSourceClientOffset}},{key:"getClientOffset",value:function(){return this.store.getState().dragOffset.clientOffset}},{key:"getSourceClientOffset",value:function(){return(0,d.getSourceClientOffset)(this.store.getState().dragOffset)}},{key:"getDifferenceFromInitialOffset",value:function(){return(0,d.getDifferenceFromInitialOffset)(this.store.getState().dragOffset)}}]),e}();t.default=l},59908:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,[{key:"canDrag",value:function(){return!0}},{key:"isDragging",value:function(e,t){return t===e.getSourceId()}},{key:"endDrag",value:function(){}}]),e}();t.default=r},97120:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,[{key:"canDrop",value:function(){return!0}},{key:"hover",value:function(){}},{key:"drop",value:function(){}}]),e}();t.default=r},96745:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=c(n(36993)),a=c(n(95585)),s=c(n(10116)),d=n(50577),u=c(n(64223));function c(e){return e&&e.__esModule?e:{default:e}}var l="SOURCE",f="TARGET";function p(e,t){t&&(0,a.default)(e)?e.forEach((function(e){return p(e,!1)})):(0,i.default)("string"===typeof e||"symbol"===("undefined"===typeof e?"undefined":o(e)),t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}function h(e){switch(e[0]){case"S":return l;case"T":return f;default:(0,i.default)(!1,"Cannot parse handler ID: "+e)}}var g=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=t,this.types={},this.handlers={},this.pinnedSourceId=null,this.pinnedSource=null}return r(e,[{key:"addSource",value:function(e,t){p(e),function(e){(0,i.default)("function"===typeof e.canDrag,"Expected canDrag to be a function."),(0,i.default)("function"===typeof e.beginDrag,"Expected beginDrag to be a function."),(0,i.default)("function"===typeof e.endDrag,"Expected endDrag to be a function.")}(t);var n=this.addHandler(l,e,t);return this.store.dispatch((0,d.addSource)(n)),n}},{key:"addTarget",value:function(e,t){p(e,!0),function(e){(0,i.default)("function"===typeof e.canDrop,"Expected canDrop to be a function."),(0,i.default)("function"===typeof e.hover,"Expected hover to be a function."),(0,i.default)("function"===typeof e.drop,"Expected beginDrag to be a function.")}(t);var n=this.addHandler(f,e,t);return this.store.dispatch((0,d.addTarget)(n)),n}},{key:"addHandler",value:function(e,t,n){var r=function(e){var t=(0,u.default)().toString();switch(e){case l:return"S"+t;case f:return"T"+t;default:(0,i.default)(!1,"Unknown role: "+e)}}(e);return this.types[r]=t,this.handlers[r]=n,r}},{key:"containsHandler",value:function(e){var t=this;return Object.keys(this.handlers).some((function(n){return t.handlers[n]===e}))}},{key:"getSource",value:function(e,t){return(0,i.default)(this.isSourceId(e),"Expected a valid source ID."),t&&e===this.pinnedSourceId?this.pinnedSource:this.handlers[e]}},{key:"getTarget",value:function(e){return(0,i.default)(this.isTargetId(e),"Expected a valid target ID."),this.handlers[e]}},{key:"getSourceType",value:function(e){return(0,i.default)(this.isSourceId(e),"Expected a valid source ID."),this.types[e]}},{key:"getTargetType",value:function(e){return(0,i.default)(this.isTargetId(e),"Expected a valid target ID."),this.types[e]}},{key:"isSourceId",value:function(e){return h(e)===l}},{key:"isTargetId",value:function(e){return h(e)===f}},{key:"removeSource",value:function(e){var t=this;(0,i.default)(this.getSource(e),"Expected an existing source."),this.store.dispatch((0,d.removeSource)(e)),(0,s.default)((function(){delete t.handlers[e],delete t.types[e]}))}},{key:"removeTarget",value:function(e){var t=this;(0,i.default)(this.getTarget(e),"Expected an existing target."),this.store.dispatch((0,d.removeTarget)(e)),(0,s.default)((function(){delete t.handlers[e],delete t.types[e]}))}},{key:"pinSource",value:function(e){var t=this.getSource(e);(0,i.default)(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t}},{key:"unpinSource",value:function(){(0,i.default)(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}}]),e}();t.default=g},93604:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.END_DRAG=t.DROP=t.HOVER=t.PUBLISH_DRAG_SOURCE=t.BEGIN_DRAG=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.beginDrag=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{publishSource:!0,clientOffset:null},n=t.publishSource,r=t.clientOffset,s=t.getSourceClientOffset;(0,o.default)((0,i.default)(e),"Expected sourceIds to be an array.");var d=this.getMonitor(),c=this.getRegistry();(0,o.default)(!d.isDragging(),"Cannot call beginDrag while dragging.");for(var l=0;l<e.length;l++)(0,o.default)(c.getSource(e[l]),"Expected sourceIds to be registered.");for(var f=null,p=e.length-1;p>=0;p--)if(d.canDragSource(e[p])){f=e[p];break}if(null===f)return;var h=null;r&&((0,o.default)("function"===typeof s,"When clientOffset is provided, getSourceClientOffset must be a function."),h=s(f));var g=c.getSource(f).beginDrag(d,f);(0,o.default)((0,a.default)(g),"Item must be an object."),c.pinSource(f);var v=c.getSourceType(f);return{type:u,itemType:v,item:g,sourceId:f,clientOffset:r,sourceClientOffset:h,isSourcePublic:n}},t.publishDragSource=function(){if(!this.getMonitor().isDragging())return;return{type:c}},t.hover=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.clientOffset,r=void 0===n?null:n;(0,o.default)((0,i.default)(e),"Expected targetIds to be an array.");var a=e.slice(0),d=this.getMonitor(),u=this.getRegistry();(0,o.default)(d.isDragging(),"Cannot call hover while not dragging."),(0,o.default)(!d.didDrop(),"Cannot call hover after drop.");for(var c=0;c<a.length;c++){var f=a[c];(0,o.default)(a.lastIndexOf(f)===c,"Expected targetIds to be unique in the passed array.");var p=u.getTarget(f);(0,o.default)(p,"Expected targetIds to be registered.")}for(var h=d.getItemType(),g=a.length-1;g>=0;g--){var v=a[g],y=u.getTargetType(v);(0,s.default)(y,h)||a.splice(g,1)}for(var m=0;m<a.length;m++){var w=a[m];u.getTarget(w).hover(d,w)}return{type:l,targetIds:a,clientOffset:r}},t.drop=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.getMonitor(),i=this.getRegistry();(0,o.default)(n.isDragging(),"Cannot call drop while not dragging."),(0,o.default)(!n.didDrop(),"Cannot call drop twice during one drag operation.");var s=n.getTargetIds().filter(n.canDropOnTarget,n);s.reverse(),s.forEach((function(s,d){var u=i.getTarget(s).drop(n,s);(0,o.default)("undefined"===typeof u||(0,a.default)(u),"Drop result must either be an object or undefined."),"undefined"===typeof u&&(u=0===d?{}:n.getDropResult()),e.store.dispatch({type:f,dropResult:r({},t,u)})}))},t.endDrag=function(){var e=this.getMonitor(),t=this.getRegistry();(0,o.default)(e.isDragging(),"Cannot call endDrag while not dragging.");var n=e.getSourceId();return t.getSource(n,true).endDrag(e,n),t.unpinSource(),{type:p}};var o=d(n(36993)),i=d(n(95585)),a=d(n(91845)),s=d(n(77795));function d(e){return e&&e.__esModule?e:{default:e}}var u=t.BEGIN_DRAG="dnd-core/BEGIN_DRAG",c=t.PUBLISH_DRAG_SOURCE="dnd-core/PUBLISH_DRAG_SOURCE",l=t.HOVER="dnd-core/HOVER",f=t.DROP="dnd-core/DROP",p=t.END_DRAG="dnd-core/END_DRAG"},50577:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addSource=function(e){return{type:n,sourceId:e}},t.addTarget=function(e){return{type:r,targetId:e}},t.removeSource=function(e){return{type:o,sourceId:e}},t.removeTarget=function(e){return{type:i,targetId:e}};var n=t.ADD_SOURCE="dnd-core/ADD_SOURCE",r=t.ADD_TARGET="dnd-core/ADD_TARGET",o=t.REMOVE_SOURCE="dnd-core/REMOVE_SOURCE",i=t.REMOVE_TARGET="dnd-core/REMOVE_TARGET"},19885:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){return new s(e)};var o,i=n(8568),a=(o=i)&&o.__esModule?o:{default:o};var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.actions=t.getActions()}return r(e,[{key:"setup",value:function(){this.didCallSetup=!0}},{key:"teardown",value:function(){this.didCallTeardown=!0}},{key:"connectDragSource",value:function(){return a.default}},{key:"connectDragPreview",value:function(){return a.default}},{key:"connectDropTarget",value:function(){return a.default}},{key:"simulateBeginDrag",value:function(e,t){this.actions.beginDrag(e,t)}},{key:"simulatePublishDragSource",value:function(){this.actions.publishDragSource()}},{key:"simulateHover",value:function(e,t){this.actions.hover(e,t)}},{key:"simulateDrop",value:function(){this.actions.drop()}},{key:"simulateEndDrag",value:function(){this.actions.endDrag()}}]),e}()},67655:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7043);Object.defineProperty(t,"DragDropManager",{enumerable:!0,get:function(){return s(r).default}});var o=n(59908);Object.defineProperty(t,"DragSource",{enumerable:!0,get:function(){return s(o).default}});var i=n(97120);Object.defineProperty(t,"DropTarget",{enumerable:!0,get:function(){return s(i).default}});var a=n(19885);function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"createTestBackend",{enumerable:!0,get:function(){return s(a).default}})},65042:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments[1],t=arguments[2];switch(e.type){case i.HOVER:break;case a.ADD_SOURCE:case a.ADD_TARGET:case a.REMOVE_TARGET:case a.REMOVE_SOURCE:return d;case i.BEGIN_DRAG:case i.PUBLISH_DRAG_SOURCE:case i.END_DRAG:case i.DROP:default:return u}var n=e.targetIds,o=t.targetIds,s=(0,r.default)(n,o),c=!1;if(0===s.length){for(var l=0;l<n.length;l++)if(n[l]!==o[l]){c=!0;break}}else c=!0;if(!c)return d;var f=o[o.length-1],p=n[n.length-1];f!==p&&(f&&s.push(f),p&&s.push(p));return s},t.areDirty=function(e,t){if(e===d)return!1;if(e===u||"undefined"===typeof t)return!0;return(0,o.default)(t,e).length>0};var r=s(n(38670)),o=s(n(74616)),i=n(93604),a=n(50577);function s(e){return e&&e.__esModule?e:{default:e}}var d=[],u=[]},84706:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments[1];switch(t.type){case o.BEGIN_DRAG:return{initialSourceClientOffset:t.sourceClientOffset,initialClientOffset:t.clientOffset,clientOffset:t.clientOffset};case o.HOVER:return function(e,t){if(e===t)return!0;return e&&t&&e.x===t.x&&e.y===t.y}(e.clientOffset,t.clientOffset)?e:r({},e,{clientOffset:t.clientOffset});case o.END_DRAG:case o.DROP:return i;default:return e}},t.getSourceClientOffset=function(e){var t=e.clientOffset,n=e.initialClientOffset,r=e.initialSourceClientOffset;if(!t||!n||!r)return null;return{x:t.x+r.x-n.x,y:t.y+r.y-n.y}},t.getDifferenceFromInitialOffset=function(e){var t=e.clientOffset,n=e.initialClientOffset;if(!t||!n)return null;return{x:t.x-n.x,y:t.y-n.y}};var o=n(93604),i={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null}},63:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case s.BEGIN_DRAG:return r({},e,{itemType:t.itemType,item:t.item,sourceId:t.sourceId,isSourcePublic:t.isSourcePublic,dropResult:null,didDrop:!1});case s.PUBLISH_DRAG_SOURCE:return r({},e,{isSourcePublic:!0});case s.HOVER:return r({},e,{targetIds:t.targetIds});case d.REMOVE_TARGET:return-1===e.targetIds.indexOf(t.targetId)?e:r({},e,{targetIds:(0,a.default)(e.targetIds,t.targetId)});case s.DROP:return r({},e,{dropResult:t.dropResult,didDrop:!0,targetIds:[]});case s.END_DRAG:return r({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}};var o,i=n(38587),a=(o=i)&&o.__esModule?o:{default:o},s=n(93604),d=n(50577);var u={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null}},50598:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];return{dirtyHandlerIds:(0,a.default)(e.dirtyHandlerIds,t,e.dragOperation),dragOffset:(0,r.default)(e.dragOffset,t),refCount:(0,i.default)(e.refCount,t),dragOperation:(0,o.default)(e.dragOperation,t),stateId:(0,s.default)(e.stateId)}};var r=d(n(84706)),o=d(n(63)),i=d(n(59883)),a=d(n(65042)),s=d(n(90697));function d(e){return e&&e.__esModule?e:{default:e}}},59883:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch(arguments[1].type){case r.ADD_SOURCE:case r.ADD_TARGET:return e+1;case r.REMOVE_SOURCE:case r.REMOVE_TARGET:return e-1;default:return e}};var r=n(50577)},90697:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e+1}},64223:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return n++};var n=0},77795:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,i.default)(e)?e.some((function(e){return e===t})):e===t};var r,o=n(95585),i=(r=o)&&r.__esModule?r:{default:r}},74521:function(e){e.exports="object"==typeof self?self.FormData:window.FormData},81686:function(e){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},34405:function(e,t,n){var r=n(99038);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},86722:function(e){e.exports=function(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}},29131:function(e,t,n){var r=n(44526),o=n(34405),i=n(86722),a=n(95434),s=n(36902),d=n(88905);e.exports=function(e,t,n,u){var c=-1,l=o,f=!0,p=e.length,h=[],g=t.length;if(!p)return h;n&&(t=a(t,s(n))),u?(l=i,f=!1):t.length>=200&&(l=d,f=!1,t=new r(t));e:for(;++c<p;){var v=e[c],y=null==n?v:n(v);if(v=u||0!==v?v:0,f&&y===y){for(var m=g;m--;)if(t[m]===y)continue e;h.push(v)}else l(t,y,u)||h.push(v)}return h}},93527:function(e){e.exports=function(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}},23255:function(e,t,n){var r=n(45349),o=n(99798);e.exports=function e(t,n,i,a,s){var d=-1,u=t.length;for(i||(i=o),s||(s=[]);++d<u;){var c=t[d];n>0&&i(c)?n>1?e(c,n-1,i,a,s):r(s,c):a||(s[s.length]=c)}return s}},99038:function(e,t,n){var r=n(93527),o=n(57700),i=n(13245);e.exports=function(e,t,n){return t===t?i(e,t,n):r(e,o,n)}},52382:function(e,t,n){var r=n(44526),o=n(34405),i=n(86722),a=n(95434),s=n(36902),d=n(88905),u=Math.min;e.exports=function(e,t,n){for(var c=n?i:o,l=e[0].length,f=e.length,p=f,h=Array(f),g=1/0,v=[];p--;){var y=e[p];p&&t&&(y=a(y,s(t))),g=u(y.length,g),h[p]=!n&&(t||l>=120&&y.length>=120)?new r(p&&y):void 0}y=e[0];var m=-1,w=h[0];e:for(;++m<l&&v.length<g;){var b=y[m],D=t?t(b):b;if(b=n||0!==b?b:0,!(w?d(w,D):c(v,D,n))){for(p=f;--p;){var k=h[p];if(!(k?d(k,D):c(e[p],D,n)))continue e}w&&w.push(D),v.push(b)}}return v}},57700:function(e){e.exports=function(e){return e!==e}},44409:function(e,t,n){var r=n(19908),o=n(25313),i=n(13457);e.exports=function(e,t){return i(o(e,t,r),e+"")}},43145:function(e,t,n){var r=n(83194),o=n(31438),i=n(19908),a=o?function(e,t){return o(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:i;e.exports=a},7579:function(e,t,n){var r=n(44526),o=n(34405),i=n(86722),a=n(88905),s=n(56946),d=n(73671);e.exports=function(e,t,n){var u=-1,c=o,l=e.length,f=!0,p=[],h=p;if(n)f=!1,c=i;else if(l>=200){var g=t?null:s(e);if(g)return d(g);f=!1,c=a,h=new r}else h=t?[]:p;e:for(;++u<l;){var v=e[u],y=t?t(v):v;if(v=n||0!==v?v:0,f&&y===y){for(var m=h.length;m--;)if(h[m]===y)continue e;t&&h.push(y),p.push(v)}else c(h,y,n)||(h!==p&&h.push(y),p.push(v))}return p}},63161:function(e,t,n){var r=n(29131),o=n(23255),i=n(7579);e.exports=function(e,t,n){var a=e.length;if(a<2)return a?i(e[0]):[];for(var s=-1,d=Array(a);++s<a;)for(var u=e[s],c=-1;++c<a;)c!=s&&(d[s]=r(d[s]||u,e[c],t,n));return i(o(d,1),t,n)}},90881:function(e,t,n){var r=n(79312);e.exports=function(e){return r(e)?e:[]}},56946:function(e,t,n){var r=n(4199),o=n(8568),i=n(73671),a=r&&1/i(new r([,-0]))[1]==1/0?function(e){return new r(e)}:o;e.exports=a},99798:function(e,t,n){var r=n(68624),o=n(52794),i=n(95585),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return i(e)||o(e)||!!(a&&e&&e[a])}},73271:function(e,t,n){var r=n(83666),o=n(2114),i=n(30674),a=n(91845);e.exports=function(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?o(n)&&i(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},25313:function(e,t,n){var r=n(81686),o=Math.max;e.exports=function(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var i=arguments,a=-1,s=o(i.length-t,0),d=Array(s);++a<s;)d[a]=i[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=i[a];return u[t]=n(d),r(e,this,u)}}},13457:function(e,t,n){var r=n(43145),o=n(71639)(r);e.exports=o},71639:function(e){var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var o=t(),i=16-(o-r);if(r=o,i>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},13245:function(e){e.exports=function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}},83194:function(e){e.exports=function(e){return function(){return e}}},60979:function(e,t,n){var r=n(44409),o=n(83666),i=n(73271),a=n(67086),s=Object.prototype,d=s.hasOwnProperty,u=r((function(e,t){e=Object(e);var n=-1,r=t.length,u=r>2?t[2]:void 0;for(u&&i(t[0],t[1],u)&&(r=1);++n<r;)for(var c=t[n],l=a(c),f=-1,p=l.length;++f<p;){var h=l[f],g=e[h];(void 0===g||o(g,s[h])&&!d.call(e,h))&&(e[h]=c[h])}return e}));e.exports=u},74616:function(e,t,n){var r=n(95434),o=n(52382),i=n(44409),a=n(90881),s=i((function(e){var t=r(e,a);return t.length&&t[0]===e[0]?o(t):[]}));e.exports=s},79312:function(e,t,n){var r=n(2114),o=n(89752);e.exports=function(e){return o(e)&&r(e)}},8568:function(e){e.exports=function(){}},35948:function(e,t,n){var r=n(23255),o=n(44409),i=n(7579),a=n(79312),s=o((function(e){return i(r(e,1,a,!0))}));e.exports=s},38587:function(e,t,n){var r=n(29131),o=n(44409),i=n(79312),a=o((function(e,t){return i(e)?r(e,t):[]}));e.exports=a},38670:function(e,t,n){var r=n(74951),o=n(44409),i=n(63161),a=n(79312),s=o((function(e){return i(r(e,a))}));e.exports=s},99312:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSafari=t.isFirefox=void 0;var r,o=n(92736),i=(r=o)&&r.__esModule?r:{default:r};t.isFirefox=(0,i.default)((function(){return/firefox/i.test(navigator.userAgent)})),t.isSafari=(0,i.default)((function(){return Boolean(window.safari)}))},99846:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=a(n(35948)),i=a(n(38587));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.entered=[]}return r(e,[{key:"enter",value:function(e){var t=this.entered.length;return this.entered=(0,o.default)(this.entered.filter((function(t){return document.documentElement.contains(t)&&(!t.contains||t.contains(e))})),[e]),0===t&&this.entered.length>0}},{key:"leave",value:function(e){var t=this.entered.length;return this.entered=(0,i.default)(this.entered.filter((function(e){return document.documentElement.contains(e)})),e),t>0&&0===this.entered.length}},{key:"reset",value:function(){this.entered=[]}}]),e}();t.default=s},45766:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=l(n(60979)),i=l(n(67857)),a=l(n(99846)),s=n(99312),d=n(34814),u=n(81060),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(42986));function l(e){return e&&e.__esModule?e:{default:e}}var f=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.context=t.getContext(),this.sourcePreviewNodes={},this.sourcePreviewNodeOptions={},this.sourceNodes={},this.sourceNodeOptions={},this.enterLeaveCounter=new a.default,this.dragStartSourceIds=[],this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.currentDragSourceNodeOffset=null,this.currentDragSourceNodeOffsetChanged=!1,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.getSourceClientOffset=this.getSourceClientOffset.bind(this),this.handleTopDragStart=this.handleTopDragStart.bind(this),this.handleTopDragStartCapture=this.handleTopDragStartCapture.bind(this),this.handleTopDragEndCapture=this.handleTopDragEndCapture.bind(this),this.handleTopDragEnter=this.handleTopDragEnter.bind(this),this.handleTopDragEnterCapture=this.handleTopDragEnterCapture.bind(this),this.handleTopDragLeaveCapture=this.handleTopDragLeaveCapture.bind(this),this.handleTopDragOver=this.handleTopDragOver.bind(this),this.handleTopDragOverCapture=this.handleTopDragOverCapture.bind(this),this.handleTopDrop=this.handleTopDrop.bind(this),this.handleTopDropCapture=this.handleTopDropCapture.bind(this),this.handleSelectStart=this.handleSelectStart.bind(this),this.endDragIfSourceWasRemovedFromDOM=this.endDragIfSourceWasRemovedFromDOM.bind(this),this.endDragNativeItem=this.endDragNativeItem.bind(this),this.asyncEndDragNativeItem=this.asyncEndDragNativeItem.bind(this),this.isNodeInDocument=this.isNodeInDocument.bind(this)}return r(e,[{key:"setup",value:function(){if(void 0!==this.window){if(this.window.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");this.window.__isReactDndBackendSetUp=!0,this.addEventListeners(this.window)}}},{key:"teardown",value:function(){void 0!==this.window&&(this.window.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.window),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&this.window.cancelAnimationFrame(this.asyncEndDragFrameId))}},{key:"addEventListeners",value:function(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}},{key:"removeEventListeners",value:function(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}},{key:"connectDragPreview",value:function(e,t,n){var r=this;return this.sourcePreviewNodeOptions[e]=n,this.sourcePreviewNodes[e]=t,function(){delete r.sourcePreviewNodes[e],delete r.sourcePreviewNodeOptions[e]}}},{key:"connectDragSource",value:function(e,t,n){var r=this;this.sourceNodes[e]=t,this.sourceNodeOptions[e]=n;var o=function(t){return r.handleDragStart(t,e)},i=function(t){return r.handleSelectStart(t,e)};return t.setAttribute("draggable",!0),t.addEventListener("dragstart",o),t.addEventListener("selectstart",i),function(){delete r.sourceNodes[e],delete r.sourceNodeOptions[e],t.removeEventListener("dragstart",o),t.removeEventListener("selectstart",i),t.setAttribute("draggable",!1)}}},{key:"connectDropTarget",value:function(e,t){var n=this,r=function(t){return n.handleDragEnter(t,e)},o=function(t){return n.handleDragOver(t,e)},i=function(t){return n.handleDrop(t,e)};return t.addEventListener("dragenter",r),t.addEventListener("dragover",o),t.addEventListener("drop",i),function(){t.removeEventListener("dragenter",r),t.removeEventListener("dragover",o),t.removeEventListener("drop",i)}}},{key:"getCurrentSourceNodeOptions",value:function(){var e=this.monitor.getSourceId(),t=this.sourceNodeOptions[e];return(0,o.default)(t||{},{dropEffect:this.altKeyPressed?"copy":"move"})}},{key:"getCurrentDropEffect",value:function(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}},{key:"getCurrentSourcePreviewNodeOptions",value:function(){var e=this.monitor.getSourceId(),t=this.sourcePreviewNodeOptions[e];return(0,o.default)(t||{},{anchorX:.5,anchorY:.5,captureDraggingState:!1})}},{key:"getSourceClientOffset",value:function(e){return(0,d.getNodeClientOffset)(this.sourceNodes[e])}},{key:"isDraggingNativeItem",value:function(){var e=this.monitor.getItemType();return Object.keys(c).some((function(t){return c[t]===e}))}},{key:"beginDragNativeItem",value:function(e){this.clearCurrentDragSourceNode();var t=(0,u.createNativeDragSource)(e);this.currentNativeSource=new t,this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}},{key:"asyncEndDragNativeItem",value:function(){this.asyncEndDragFrameId=this.window.requestAnimationFrame(this.endDragNativeItem)}},{key:"endDragNativeItem",value:function(){this.isDraggingNativeItem()&&(this.actions.endDrag(),this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)}},{key:"isNodeInDocument",value:function(e){return!(!document.body.contains(e)&&!this.window)&&this.window.document.body.contains(e)}},{key:"endDragIfSourceWasRemovedFromDOM",value:function(){var e=this.currentDragSourceNode;this.isNodeInDocument(e)||this.clearCurrentDragSourceNode()&&this.actions.endDrag()}},{key:"setCurrentDragSourceNode",value:function(e){var t=this;this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e,this.currentDragSourceNodeOffset=(0,d.getNodeClientOffset)(e),this.currentDragSourceNodeOffsetChanged=!1;this.mouseMoveTimeoutTimer=setTimeout((function(){return t.mouseMoveTimeoutId=null,t.window.addEventListener("mousemove",t.endDragIfSourceWasRemovedFromDOM,!0)}),1e3)}},{key:"clearCurrentDragSourceNode",value:function(){return!!this.currentDragSourceNode&&(this.currentDragSourceNode=null,this.currentDragSourceNodeOffset=null,this.currentDragSourceNodeOffsetChanged=!1,this.window.clearTimeout(this.mouseMoveTimeoutTimer),this.window.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0),this.mouseMoveTimeoutTimer=null,!0)}},{key:"checkIfCurrentDragSourceRectChanged",value:function(){var e=this.currentDragSourceNode;return!!e&&(!!this.currentDragSourceNodeOffsetChanged||(this.currentDragSourceNodeOffsetChanged=!(0,i.default)((0,d.getNodeClientOffset)(e),this.currentDragSourceNodeOffset),this.currentDragSourceNodeOffsetChanged))}},{key:"handleTopDragStartCapture",value:function(){this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]}},{key:"handleDragStart",value:function(e,t){this.dragStartSourceIds.unshift(t)}},{key:"handleTopDragStart",value:function(e){var t=this,n=this.dragStartSourceIds;this.dragStartSourceIds=null;var r=(0,d.getEventClientOffset)(e);this.monitor.isDragging()&&this.actions.endDrag(),this.actions.beginDrag(n,{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:r});var o=e.dataTransfer,i=(0,u.matchNativeItemType)(o);if(this.monitor.isDragging()){if("function"===typeof o.setDragImage){var a=this.monitor.getSourceId(),s=this.sourceNodes[a],c=this.sourcePreviewNodes[a]||s,l=this.getCurrentSourcePreviewNodeOptions(),f={anchorX:l.anchorX,anchorY:l.anchorY},p={offsetX:l.offsetX,offsetY:l.offsetY},h=(0,d.getDragPreviewOffset)(s,c,r,f,p);o.setDragImage(c,h.x,h.y)}try{o.setData("application/json",{})}catch(g){}this.setCurrentDragSourceNode(e.target),this.getCurrentSourcePreviewNodeOptions().captureDraggingState?this.actions.publishDragSource():setTimeout((function(){return t.actions.publishDragSource()}))}else if(i)this.beginDragNativeItem(i);else{if(!(o.types||e.target.hasAttribute&&e.target.hasAttribute("draggable")))return;e.preventDefault()}}},{key:"handleTopDragEndCapture",value:function(){this.clearCurrentDragSourceNode()&&this.actions.endDrag()}},{key:"handleTopDragEnterCapture",value:function(e){if(this.dragEnterTargetIds=[],this.enterLeaveCounter.enter(e.target)&&!this.monitor.isDragging()){var t=e.dataTransfer,n=(0,u.matchNativeItemType)(t);n&&this.beginDragNativeItem(n)}}},{key:"handleDragEnter",value:function(e,t){this.dragEnterTargetIds.unshift(t)}},{key:"handleTopDragEnter",value:function(e){var t=this,n=this.dragEnterTargetIds;(this.dragEnterTargetIds=[],this.monitor.isDragging())&&(this.altKeyPressed=e.altKey,(0,s.isFirefox)()||this.actions.hover(n,{clientOffset:(0,d.getEventClientOffset)(e)}),n.some((function(e){return t.monitor.canDropOnTarget(e)}))&&(e.preventDefault(),e.dataTransfer.dropEffect=this.getCurrentDropEffect()))}},{key:"handleTopDragOverCapture",value:function(){this.dragOverTargetIds=[]}},{key:"handleDragOver",value:function(e,t){this.dragOverTargetIds.unshift(t)}},{key:"handleTopDragOver",value:function(e){var t=this,n=this.dragOverTargetIds;if(this.dragOverTargetIds=[],!this.monitor.isDragging())return e.preventDefault(),void(e.dataTransfer.dropEffect="none");this.altKeyPressed=e.altKey,this.actions.hover(n,{clientOffset:(0,d.getEventClientOffset)(e)}),n.some((function(e){return t.monitor.canDropOnTarget(e)}))?(e.preventDefault(),e.dataTransfer.dropEffect=this.getCurrentDropEffect()):this.isDraggingNativeItem()?(e.preventDefault(),e.dataTransfer.dropEffect="none"):this.checkIfCurrentDragSourceRectChanged()&&(e.preventDefault(),e.dataTransfer.dropEffect="move")}},{key:"handleTopDragLeaveCapture",value:function(e){this.isDraggingNativeItem()&&e.preventDefault(),this.enterLeaveCounter.leave(e.target)&&this.isDraggingNativeItem()&&this.endDragNativeItem()}},{key:"handleTopDropCapture",value:function(e){this.dropTargetIds=[],e.preventDefault(),this.isDraggingNativeItem()&&this.currentNativeSource.mutateItemByReadingDataTransfer(e.dataTransfer),this.enterLeaveCounter.reset()}},{key:"handleDrop",value:function(e,t){this.dropTargetIds.unshift(t)}},{key:"handleTopDrop",value:function(e){var t=this.dropTargetIds;this.dropTargetIds=[],this.actions.hover(t,{clientOffset:(0,d.getEventClientOffset)(e)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.endDragIfSourceWasRemovedFromDOM()}},{key:"handleSelectStart",value:function(e){var t=e.target;"function"===typeof t.dragDrop&&("INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable||(e.preventDefault(),t.dragDrop()))}},{key:"window",get:function(){return this.context&&this.context.window?this.context.window:"undefined"!==typeof window?window:void 0}}]),e}();t.default=f},61866:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var r=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=t.length,o=[],i=0;i<r;i++)o.push(i);o.sort((function(e,n){return t[e]<t[n]?-1:1}));for(var a=[],s=[],d=[],u=void 0,c=void 0,l=0;l<r-1;l++)u=t[l+1]-t[l],c=n[l+1]-n[l],s.push(u),a.push(c),d.push(c/u);for(var f=[d[0]],p=0;p<s.length-1;p++){var h=d[p],g=d[p+1];if(h*g<=0)f.push(0);else{u=s[p];var v=s[p+1],y=u+v;f.push(3*y/((y+v)/h+(y+u)/g))}}f.push(d[d.length-1]);for(var m=[],w=[],b=void 0,D=0;D<f.length-1;D++){b=d[D];var k=f[D],S=1/s[D],x=k+f[D+1]-b-b;m.push((b-k-x)*S),w.push(x*S*S)}this.xs=t,this.ys=n,this.c1s=f,this.c2s=m,this.c3s=w}return n(e,[{key:"interpolate",value:function(e){var t=this.xs,n=this.ys,r=this.c1s,o=this.c2s,i=this.c3s,a=t.length-1;if(e===t[a])return n[a];for(var s=0,d=i.length-1,u=void 0;s<=d;){var c=t[u=Math.floor(.5*(s+d))];if(c<e)s=u+1;else{if(!(c>e))return n[u];d=u-1}}var l=e-t[a=Math.max(0,d)],f=l*l;return n[a]+r[a]*l+o[a]*f+i[a]*l*f}}]),e}();t.default=r},81060:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.createNativeDragSource=function(e){var t=d[e],n=t.exposeProperty,r=t.matchesTypes,i=t.getData;return function(){function e(){var t,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.item=(t={},(r={})[n]=r[n]||{},r[n].get=function(){return console.warn("Browser doesn't allow reading \""+n+'" until the drop event.'),null},function(e,t){for(var n in t){var r=t[n];r.configurable=r.enumerable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,n,r)}}(t,r),t)}return o(e,[{key:"mutateItemByReadingDataTransfer",value:function(e){delete this.item[n],this.item[n]=i(e,r)}},{key:"canDrag",value:function(){return!0}},{key:"beginDrag",value:function(){return this.item}},{key:"isDragging",value:function(e,t){return t===e.getSourceId()}},{key:"endDrag",value:function(){}}]),e}()},t.matchNativeItemType=function(e){var t=Array.prototype.slice.call(e.types||[]);return Object.keys(d).filter((function(e){return d[e].matchesTypes.some((function(e){return t.indexOf(e)>-1}))}))[0]||null};var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(42986));function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t,n){var r=t.reduce((function(t,n){return t||e.getData(n)}),null);return null!=r?r:n}var d=(a(r={},i.FILE,{exposeProperty:"files",matchesTypes:["Files"],getData:function(e){return Array.prototype.slice.call(e.files)}}),a(r,i.URL,{exposeProperty:"urls",matchesTypes:["Url","text/uri-list"],getData:function(e,t){return s(e,t,"").split("\n")}}),a(r,i.TEXT,{exposeProperty:"text",matchesTypes:["Text","text/plain"],getData:function(e,t){return s(e,t,"")}}),r)},42986:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.FILE="__NATIVE_FILE__",t.URL="__NATIVE_URL__",t.TEXT="__NATIVE_TEXT__"},34814:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNodeClientOffset=d,t.getEventClientOffset=function(e){return{x:e.clientX,y:e.clientY}},t.getDragPreviewOffset=function(e,t,n,r,i){var s=(D=t,"IMG"===D.nodeName&&((0,o.isFirefox)()||!document.documentElement.contains(D))),u=d(s?e:t),c={x:n.x-u.x,y:n.y-u.y},l=e.offsetWidth,f=e.offsetHeight,p=r.anchorX,h=r.anchorY,g=function(e,t,n,r){var i=e?t.width:n,a=e?t.height:r;(0,o.isSafari)()&&e&&(a/=window.devicePixelRatio,i/=window.devicePixelRatio);return{dragPreviewWidth:i,dragPreviewHeight:a}}(s,t,l,f),v=g.dragPreviewWidth,y=g.dragPreviewHeight,m=i.offsetX,w=i.offsetY,b=0===w||w;var D;return{x:0===m||m?m:new a.default([0,.5,1],[c.x,c.x/l*v,c.x+v-l]).interpolate(p),y:b?w:function(){var e=new a.default([0,.5,1],[c.y,c.y/f*y,c.y+y-f]).interpolate(h);return(0,o.isSafari)()&&s&&(e+=(window.devicePixelRatio-1)*y),e}()}};var r,o=n(99312),i=n(61866),a=(r=i)&&r.__esModule?r:{default:r};var s=1;function d(e){var t=e.nodeType===s?e:e.parentElement;if(!t)return null;var n=t.getBoundingClientRect(),r=n.top;return{x:n.left,y:r}}},45939:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){n||((n=new Image).src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==");return n};var n=void 0},96552:function(e,t,n){"use strict";t.ZP=function(e){return new r.default(e)};var r=i(n(45766)),o=i(n(45939));function i(e){return e&&e.__esModule?e:{default:e}}(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e})(n(42986)),o.default},67857:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(e===t)return!0;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=Object.prototype.hasOwnProperty,i=0;i<n.length;i+=1){if(!o.call(t,n[i])||e[n[i]]!==t[n[i]])return!1;if(e[n[i]]!==t[n[i]])return!1}return!0}},865:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unpackBackendForEs5Users=t.createChildContext=t.CHILD_CONTEXT_TYPES=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e){f.default.apply(void 0,["DragDropContext","backend"].concat(Array.prototype.slice.call(arguments)));var t=v(e),n=g(t);return function(e){var t,i,d=e.displayName||e.name||"Component",u=(i=t=function(t){function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,t),o(i,[{key:"getDecoratedComponentInstance",value:function(){return(0,c.default)(this.child,"In order to access an instance of the decorated component it can not be a stateless component."),this.child}},{key:"getManager",value:function(){return n.dragDropManager}},{key:"getChildContext",value:function(){return n}},{key:"render",value:function(){var t=this;return s.default.createElement(e,r({},this.props,{ref:function(e){t.child=e}}))}}]),i}(a.Component),t.DecoratedComponent=e,t.displayName="DragDropContext("+d+")",t.childContextTypes=h,i);return(0,l.default)(u,e)}};var a=n(47313),s=p(a),d=p(n(75192)),u=n(67655),c=p(n(36993)),l=p(n(48146)),f=p(n(36445));function p(e){return e&&e.__esModule?e:{default:e}}var h=t.CHILD_CONTEXT_TYPES={dragDropManager:d.default.object.isRequired},g=t.createChildContext=function(e,t){return{dragDropManager:new u.DragDropManager(e,t)}},v=t.unpackBackendForEs5Users=function(e){var t=e;return"object"===("undefined"===typeof t?"undefined":i(t))&&"function"===typeof t.default&&(t=t.default),(0,c.default)("function"===typeof t,"Expected the backend to be a function or an ES6 module exporting a default function. Read more: http://react-dnd.github.io/react-dnd/docs-drag-drop-context.html"),t}},49520:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o,i,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(47313),d=n(75192),u=(i=d)&&i.__esModule?i:{default:i},c=n(865);var l=(o=r=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.backend=(0,c.unpackBackendForEs5Users)(e.backend),r.childContext=(0,c.createChildContext)(r.backend,{window:e&&e.window?e.window:n&&n.window?n.window:"undefined"!==typeof window?window:void 0}),r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentWillReceiveProps",value:function(e){if(e.backend!==this.props.backend||e.window!==this.props.window)throw new Error("DragDropContextProvider backend and window props must not change.")}},{key:"getChildContext",value:function(){return this.childContext}},{key:"render",value:function(){return s.Children.only(this.props.children)}}]),t}(s.Component),r.propTypes={backend:u.default.oneOfType([u.default.func,u.default.object]).isRequired,children:u.default.element.isRequired,window:u.default.object},r.defaultProps={window:void 0},r.childContextTypes=c.CHILD_CONTEXT_TYPES,r.displayName="DragDropContextProvider",r.contextTypes={window:u.default.object},o);t.default=l},46007:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return h.default.apply(void 0,["DragLayer","collect[, options]"].concat(Array.prototype.slice.call(arguments))),(0,l.default)("function"===typeof e,'Expected "collect" provided as the first argument to DragLayer to be a function that collects props to inject into the component. ',"Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-layer.html",e),(0,l.default)((0,c.default)(t),'Expected "options" provided as the second argument to DragLayer to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-layer.html',t),function(n){var c,h,g=t.arePropsEqual,v=void 0===g?p.default:g,y=n.displayName||n.name||"Component",m=(h=c=function(t){function a(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));return n.handleChange=n.handleChange.bind(n),n.manager=t.dragDropManager,(0,l.default)("object"===o(n.manager),"Could not find the drag and drop manager in the context of %s. Make sure to wrap the top-level component of your app with DragDropContext. Read more: http://react-dnd.github.io/react-dnd/docs-troubleshooting.html#could-not-find-the-drag-and-drop-manager-in-the-context",y,y),n.state=n.getCurrentState(),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,t),i(a,[{key:"getDecoratedComponentInstance",value:function(){return(0,l.default)(this.child,"In order to access an instance of the decorated component it can not be a stateless component."),this.child}},{key:"shouldComponentUpdate",value:function(e,t){return!v(e,this.props)||!(0,f.default)(t,this.state)}}]),i(a,[{key:"componentDidMount",value:function(){this.isCurrentlyMounted=!0;var e=this.manager.getMonitor();this.unsubscribeFromOffsetChange=e.subscribeToOffsetChange(this.handleChange),this.unsubscribeFromStateChange=e.subscribeToStateChange(this.handleChange),this.handleChange()}},{key:"componentWillUnmount",value:function(){this.isCurrentlyMounted=!1,this.unsubscribeFromOffsetChange(),this.unsubscribeFromStateChange()}},{key:"handleChange",value:function(){if(this.isCurrentlyMounted){var e=this.getCurrentState();(0,f.default)(e,this.state)||this.setState(e)}}},{key:"getCurrentState",value:function(){var t=this.manager.getMonitor();return e(t,this.props)}},{key:"render",value:function(){var e=this;return s.default.createElement(n,r({},this.props,this.state,{ref:function(t){e.child=t}}))}}]),a}(a.Component),c.DecoratedComponent=n,c.displayName="DragLayer("+y+")",c.contextTypes={dragDropManager:d.default.object.isRequired},h);return(0,u.default)(m,n)}};var a=n(47313),s=g(a),d=g(n(75192)),u=g(n(48146)),c=g(n(40634)),l=g(n(36993)),f=g(n(34178)),p=g(n(45204)),h=g(n(36445));function g(e){return e&&e.__esModule?e:{default:e}}},61236:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};i.default.apply(void 0,["DragSource","type, spec, collect[, options]"].concat(Array.prototype.slice.call(arguments)));var p=e;"function"!==typeof e&&((0,r.default)((0,l.default)(e),'Expected "type" provided as the first argument to DragSource to be a string, or a function that returns a string given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html',e),p=function(){return e});(0,r.default)((0,o.default)(t),'Expected "spec" provided as the second argument to DragSource to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html',t);var h=(0,d.default)(t);return(0,r.default)("function"===typeof n,'Expected "collect" provided as the third argument to DragSource to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html',n),(0,r.default)((0,o.default)(f),'Expected "options" provided as the fourth argument to DragSource to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html',n),function(e){return(0,a.default)({connectBackend:function(e,t){return e.connectDragSource(t)},containerDisplayName:"DragSource",createHandler:h,registerHandler:s.default,createMonitor:u.default,createConnector:c.default,DecoratedComponent:e,getType:p,collect:n,options:f})}};var r=f(n(36993)),o=f(n(40634)),i=f(n(36445)),a=f(n(96166)),s=f(n(96830)),d=f(n(83313)),u=f(n(30789)),c=f(n(72871)),l=f(n(96211));function f(e){return e&&e.__esModule?e:{default:e}}},28518:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};i.default.apply(void 0,["DropTarget","type, spec, collect[, options]"].concat(Array.prototype.slice.call(arguments)));var p=e;"function"!==typeof e&&((0,r.default)((0,l.default)(e,!0),'Expected "type" provided as the first argument to DropTarget to be a string, an array of strings, or a function that returns either given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html',e),p=function(){return e});(0,r.default)((0,o.default)(t),'Expected "spec" provided as the second argument to DropTarget to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html',t);var h=(0,d.default)(t);return(0,r.default)("function"===typeof n,'Expected "collect" provided as the third argument to DropTarget to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html',n),(0,r.default)((0,o.default)(f),'Expected "options" provided as the fourth argument to DropTarget to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html',n),function(e){return(0,a.default)({connectBackend:function(e,t){return e.connectDropTarget(t)},containerDisplayName:"DropTarget",createHandler:h,registerHandler:s.default,createMonitor:u.default,createConnector:c.default,DecoratedComponent:e,getType:p,collect:n,options:f})}};var r=f(n(36993)),o=f(n(40634)),i=f(n(36445)),a=f(n(96166)),s=f(n(68983)),d=f(n(78351)),u=f(n(29437)),c=f(n(44154)),l=f(n(96211));function f(e){return e&&e.__esModule?e:{default:e}}},62238:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(t===e)return!0;return null!==t&&null!==e&&(0,i.default)(t,e)};var r,o=n(34178),i=(r=o)&&r.__esModule?r:{default:r}},72871:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=void 0,n=void 0,i=void 0,a=void 0,s=void 0,d=void 0,u=void 0;function c(){a&&(a(),a=null),t&&n&&(a=e.connectDragSource(t,n,i))}function l(){u&&(u(),u=null),t&&s&&(u=e.connectDragPreview(t,s,d))}return{receiveHandlerId:function(e){e!==t&&(t=e,c(),l())},hooks:(0,r.default)({dragSource:function(e,t){e===n&&(0,o.default)(t,i)||(n=e,i=t,c())},dragPreview:function(e,t){e===s&&(0,o.default)(t,d)||(s=e,d=t,l())}})}};var r=i(n(57442)),o=i(n(62238));function i(e){return e&&e.__esModule?e:{default:e}}},83313:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){Object.keys(e).forEach((function(t){(0,o.default)(a.indexOf(t)>-1,'Expected the drag source specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html',a.join(", "),t),(0,o.default)("function"===typeof e[t],"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html",t,t,e[t])})),s.forEach((function(t){(0,o.default)("function"===typeof e[t],"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html",t,t,e[t])}));var t=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.monitor=e,this.props=null,this.component=null}return r(t,[{key:"receiveProps",value:function(e){this.props=e}},{key:"receiveComponent",value:function(e){this.component=e}},{key:"canDrag",value:function(){return!e.canDrag||e.canDrag(this.props,this.monitor)}},{key:"isDragging",value:function(t,n){return e.isDragging?e.isDragging(this.props,this.monitor):n===t.getSourceId()}},{key:"beginDrag",value:function(){return e.beginDrag(this.props,this.monitor,this.component)}},{key:"endDrag",value:function(){e.endDrag&&e.endDrag(this.props,this.monitor,this.component)}}]),t}();return function(e){return new t(e)}};var o=i(n(36993));i(n(40634));function i(e){return e&&e.__esModule?e:{default:e}}var a=["canDrag","beginDrag","isDragging","endDrag"],s=["beginDrag"]},30789:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){return new u(e)};var o,i=n(36993),a=(o=i)&&o.__esModule?o:{default:o};var s=!1,d=!1,u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.internalMonitor=t.getMonitor()}return r(e,[{key:"receiveHandlerId",value:function(e){this.sourceId=e}},{key:"canDrag",value:function(){(0,a.default)(!s,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source-monitor.html");try{return s=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{s=!1}}},{key:"isDragging",value:function(){(0,a.default)(!d,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source-monitor.html");try{return d=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{d=!1}}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}]),e}()},44154:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=void 0,n=void 0,i=void 0,a=void 0;function s(){a&&(a(),a=null),t&&n&&(a=e.connectDropTarget(t,n,i))}return{receiveHandlerId:function(e){e!==t&&(t=e,s())},hooks:(0,r.default)({dropTarget:function(e,t){e===n&&(0,o.default)(t,i)||(n=e,i=t,s())}})}};var r=i(n(57442)),o=i(n(62238));function i(e){return e&&e.__esModule?e:{default:e}}},78351:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){Object.keys(e).forEach((function(t){(0,o.default)(a.indexOf(t)>-1,'Expected the drop target specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html',a.join(", "),t),(0,o.default)("function"===typeof e[t],"Expected %s in the drop target specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html",t,t,e[t])}));var t=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.monitor=e,this.props=null,this.component=null}return r(t,[{key:"receiveProps",value:function(e){this.props=e}},{key:"receiveMonitor",value:function(e){this.monitor=e}},{key:"receiveComponent",value:function(e){this.component=e}},{key:"canDrop",value:function(){return!e.canDrop||e.canDrop(this.props,this.monitor)}},{key:"hover",value:function(){e.hover&&e.hover(this.props,this.monitor,this.component)}},{key:"drop",value:function(){if(e.drop)return e.drop(this.props,this.monitor,this.component)}}]),t}();return function(e){return new t(e)}};var o=i(n(36993));i(n(40634));function i(e){return e&&e.__esModule?e:{default:e}}var a=["canDrop","hover","drop"]},29437:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){return new d(e)};var o,i=n(36993),a=(o=i)&&o.__esModule?o:{default:o};var s=!1,d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.internalMonitor=t.getMonitor()}return r(e,[{key:"receiveHandlerId",value:function(e){this.targetId=e}},{key:"canDrop",value:function(){(0,a.default)(!s,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target-monitor.html");try{return s=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{s=!1}}},{key:"isOver",value:function(e){return this.internalMonitor.isOverTarget(this.targetId,e)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}]),e}()},96166:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){var t,n,h=e.DecoratedComponent,v=e.createHandler,y=e.createMonitor,m=e.createConnector,w=e.registerHandler,b=e.containerDisplayName,D=e.getType,k=e.collect,S=e.options.arePropsEqual,x=void 0===S?p.default:S,C=h.displayName||h.name||"Component",I=(n=t=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.handleChange=r.handleChange.bind(r),r.handleChildRef=r.handleChildRef.bind(r),(0,c.default)("object"===o(r.context.dragDropManager),"Could not find the drag and drop manager in the context of %s. Make sure to wrap the top-level component of your app with DragDropContext. Read more: http://react-dnd.github.io/react-dnd/docs-troubleshooting.html#could-not-find-the-drag-and-drop-manager-in-the-context",C,C),r.manager=r.context.dragDropManager,r.handlerMonitor=y(r.manager),r.handlerConnector=m(r.manager.getBackend()),r.handler=v(r.handlerMonitor),r.disposable=new u.SerialDisposable,r.receiveProps(e),r.state=r.getCurrentState(),r.dispose(),r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"getHandlerId",value:function(){return this.handlerId}},{key:"getDecoratedComponentInstance",value:function(){return this.decoratedComponentInstance}},{key:"shouldComponentUpdate",value:function(e,t){return!x(e,this.props)||!(0,f.default)(t,this.state)}}]),i(t,[{key:"componentDidMount",value:function(){this.isCurrentlyMounted=!0,this.disposable=new u.SerialDisposable,this.currentType=null,this.receiveProps(this.props),this.handleChange()}},{key:"componentWillReceiveProps",value:function(e){x(e,this.props)||(this.receiveProps(e),this.handleChange())}},{key:"componentWillUnmount",value:function(){this.dispose(),this.isCurrentlyMounted=!1}},{key:"receiveProps",value:function(e){this.handler.receiveProps(e),this.receiveType(D(e))}},{key:"receiveType",value:function(e){if(e!==this.currentType){this.currentType=e;var t=w(e,this.handler,this.manager),n=t.handlerId,r=t.unregister;this.handlerId=n,this.handlerMonitor.receiveHandlerId(n),this.handlerConnector.receiveHandlerId(n);var o=this.manager.getMonitor().subscribeToStateChange(this.handleChange,{handlerIds:[n]});this.disposable.setDisposable(new u.CompositeDisposable(new u.Disposable(o),new u.Disposable(r)))}}},{key:"handleChange",value:function(){if(this.isCurrentlyMounted){var e=this.getCurrentState();(0,f.default)(e,this.state)||this.setState(e)}}},{key:"dispose",value:function(){this.disposable.dispose(),this.handlerConnector.receiveHandlerId(null)}},{key:"handleChildRef",value:function(e){this.decoratedComponentInstance=e,this.handler.receiveComponent(e)}},{key:"getCurrentState",value:function(){return k(this.handlerConnector.hooks,this.handlerMonitor)}},{key:"render",value:function(){return s.default.createElement(h,r({},this.props,this.state,{ref:g(h)?this.handleChildRef:null}))}}]),t}(a.Component),t.DecoratedComponent=h,t.displayName=b+"("+C+")",t.contextTypes={dragDropManager:d.default.object.isRequired},n);return(0,l.default)(I,h)};var a=n(47313),s=h(a),d=h(n(75192)),u=n(13476),c=(h(n(40634)),h(n(36993))),l=h(n(48146)),f=h(n(34178)),p=h(n(45204));function h(e){return e&&e.__esModule?e:{default:e}}var g=function(e){return Boolean(e&&e.prototype&&"function"===typeof e.prototype.render)}},47584:function(e,t,n){"use strict";var r=n(865);Object.defineProperty(t,"Z5",{enumerable:!0,get:function(){return d(r).default}});var o=n(49520);var i=n(46007);Object.defineProperty(t,"rE",{enumerable:!0,get:function(){return d(i).default}});var a=n(61236);Object.defineProperty(t,"Ej",{enumerable:!0,get:function(){return d(a).default}});var s=n(28518);function d(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"GR",{enumerable:!0,get:function(){return d(s).default}})},96830:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r=n.getRegistry(),o=r.addSource(e,t);return{handlerId:o,unregister:function(){r.removeSource(o)}}}},68983:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r=n.getRegistry(),o=r.addTarget(e,t);return{handlerId:o,unregister:function(){r.removeTarget(o)}}}},36445:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){0}},8178:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=e.ref;if((0,i.default)("string"!==typeof n,"Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute"),!n)return(0,a.cloneElement)(e,{ref:t});return(0,a.cloneElement)(e,{ref:function(e){t(e),n&&n(e)}})};var r,o=n(36993),i=(r=o)&&r.__esModule?r:{default:r},a=n(47313)},96211:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function e(t,n){return"string"===typeof t||"symbol"===("undefined"===typeof t?"undefined":r(t))||n&&(0,a.default)(t)&&t.every((function(t){return e(t,!1)}))};var o,i=n(95585),a=(o=i)&&o.__esModule?o:{default:o}},34178:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(e===t)return!0;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=Object.prototype.hasOwnProperty,i=0;i<n.length;i+=1){if(!o.call(t,n[i])||e[n[i]]!==t[n[i]])return!1;if(e[n[i]]!==t[n[i]])return!1}return!0}},45204:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e,t){if(e===t)return!0;if("object"!==("undefined"===typeof e?"undefined":n(e))||null===e||"object"!==("undefined"===typeof t?"undefined":n(t))||null===t)return!1;var r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return!1;for(var i=Object.prototype.hasOwnProperty,a=0;a<r.length;a+=1){if(!i.call(t,r[a]))return!1;var s=e[r[a]],d=t[r[a]];if(s!==d||"object"===("undefined"===typeof s?"undefined":n(s))||"object"===("undefined"===typeof d?"undefined":n(d)))return!1}return!0}},57442:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t={};return Object.keys(e).forEach((function(n){var r=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if((0,o.isValidElement)(t)){var r=t;!function(e){if("string"===typeof e.type)return;var t=e.type.displayName||e.type.name||"the component";throw new Error("Only native element nodes can now be passed to React DnD connectors.You can either wrap "+t+" into a <div>, or turn it into a drag source or a drop target itself.")}(r);var i=n?function(t){return e(t,n)}:e;return(0,a.default)(r,i)}e(t,n)}}(e[n]);t[n]=function(){return r}})),t};var r,o=n(47313),i=n(8178),a=(r=i)&&r.__esModule?r:{default:r}},48146:function(e){"use strict";var t={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r=Object.defineProperty,o=Object.getOwnPropertyNames,i=Object.getOwnPropertySymbols,a=Object.getOwnPropertyDescriptor,s=Object.getPrototypeOf,d=s&&s(Object);e.exports=function e(u,c,l){if("string"!==typeof c){if(d){var f=s(c);f&&f!==d&&e(u,f,l)}var p=o(c);i&&(p=p.concat(i(c)));for(var h=0;h<p.length;++h){var g=p[h];if(!t[g]&&!n[g]&&(!l||!l[g])){var v=a(c,g);try{r(u,g,v)}catch(y){}}}return u}return u}},57195:function(e,t,n){"use strict";t.__esModule=!0,t.ActionTypes=void 0,t.default=function e(t,n,i){var s;"function"===typeof n&&"undefined"===typeof i&&(i=n,n=void 0);if("undefined"!==typeof i){if("function"!==typeof i)throw new Error("Expected the enhancer to be a function.");return i(e)(t,n)}if("function"!==typeof t)throw new Error("Expected the reducer to be a function.");var d=t,u=n,c=[],l=c,f=!1;function p(){l===c&&(l=c.slice())}function h(){return u}function g(e){if("function"!==typeof e)throw new Error("Expected listener to be a function.");var t=!0;return p(),l.push(e),function(){if(t){t=!1,p();var n=l.indexOf(e);l.splice(n,1)}}}function v(e){if(!(0,r.default)(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"===typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(f)throw new Error("Reducers may not dispatch actions.");try{f=!0,u=d(u,e)}finally{f=!1}for(var t=c=l,n=0;n<t.length;n++){(0,t[n])()}return e}return v({type:a.INIT}),(s={dispatch:v,subscribe:g,getState:h,replaceReducer:function(e){if("function"!==typeof e)throw new Error("Expected the nextReducer to be a function.");d=e,v({type:a.INIT})}})[o.default]=function(){var e,t=g;return(e={subscribe:function(e){if("object"!==typeof e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(h())}return n(),{unsubscribe:t(n)}}})[o.default]=function(){return this},e},s};var r=i(n(40634)),o=i(n(7357));function i(e){return e&&e.__esModule?e:{default:e}}var a=t.ActionTypes={INIT:"@@redux/INIT"}},7357:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}}),e=n.hmd(e);var r=function(e){var t,n=e.Symbol;return"function"===typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}("undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:e)},3497:function(){}},function(e){e.O(0,[9351],(function(){return t=29961,e(e.s=t);var t}));e.O()}]);